<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>OGC API-MapsTiles</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book">
<div id="header">
<h1>OGC API-MapsTiles</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:   &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:   2019-03-06</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC&#174; document: <a href="http://www.opengis.net/doc/{doc-type}/{standard}/{m.n}" class="bare">http://www.opengis.net/doc/{doc-type}/{standard}/{m.n}</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC&#174; document:    YY-nnnrx</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: 0.0.1</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC&#174; Implementation Specification</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editor:   Charles Heazel</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC API Maps Tiles</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright &#169; 2019 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:   	OGC®ImplementationSpecification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:   	if applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:   	Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language: 	English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>License Agreement</p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR&#8217;s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a>
<ul class="sectlevel2">
<li><a href="#_current_scope">1.1. Current scope:</a></li>
</ul>
</li>
<li><a href="#_conformance">2. Conformance</a></li>
<li><a href="#_references">3. References</a></li>
<li><a href="#_terms_and_definitions">4. Terms and Definitions</a>
<ul class="sectlevel2">
<li><a href="#_term_name">4.1. <strong>term name</strong></a></li>
</ul>
</li>
<li><a href="#_conventions">5. Conventions</a>
<ul class="sectlevel2">
<li><a href="#_identifiers">5.1. Identifiers</a></li>
</ul>
</li>
<li><a href="#overview">6. Overview</a>
<ul class="sectlevel2">
<li><a href="#_evolution_from_ogc_web_services">6.1. Evolution from OGC Web Services</a></li>
<li><a href="#_encodings">6.2. Encodings</a></li>
<li><a href="#_examples">6.3. Examples</a></li>
</ul>
</li>
<li><a href="#_requirement_class_tiles_core">7. Requirement Class "Tiles Core"</a>
<ul class="sectlevel2">
<li><a href="#_overview">7.1. Overview</a></li>
<li><a href="#_general">7.2. General</a></li>
<li><a href="#_api_landing_page">7.3. API landing page</a>
<ul class="sectlevel3">
<li><a href="#_response">7.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_declaration_of_conformance_classes">7.4. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_2">7.4.1. Response</a></li>
</ul>
</li>
<li><a href="#_collections">7.5. Collections</a></li>
<li><a href="#_collection">7.6. Collection</a>
<ul class="sectlevel3">
<li><a href="#_collection_links">7.6.1. Collection Links</a></li>
</ul>
</li>
<li><a href="#_tiles_description">7.7. Tiles description</a>
<ul class="sectlevel3">
<li><a href="#_operation">7.7.1. Operation</a></li>
<li><a href="#_response_3">7.7.2. Response</a></li>
</ul>
</li>
<li><a href="#_tiled_data_from_one_collection">7.8. Tiled data from one collection</a>
<ul class="sectlevel3">
<li><a href="#_operation_2">7.8.1. Operation</a></li>
<li><a href="#_parameter_tilematrixsetid">7.8.2. Parameter tileMatrixSetId</a></li>
<li><a href="#_parameter_tilematrix">7.8.3. Parameter tileMatrix</a></li>
<li><a href="#_parameter_tilerow">7.8.4. Parameter tileRow</a></li>
<li><a href="#_parameter_tilecol">7.8.5. Parameter tileCol</a></li>
<li><a href="#_response_4">7.8.6. Response</a></li>
<li><a href="#_error_situations">7.8.7. Error situations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_tiles_from_more_than_one_collection">8. Requirement Class "Tiles from more than one collection"</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">8.1. Overview</a></li>
<li><a href="#_api_landing_page_2">8.2. API landing page</a>
<ul class="sectlevel3">
<li><a href="#_response_5">8.2.1. Response</a></li>
</ul>
</li>
<li><a href="#_declaration_of_conformance_classes_2">8.3. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_6">8.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_tiles_description_2">8.4. Tiles description</a>
<ul class="sectlevel3">
<li><a href="#_operation_3">8.4.1. Operation</a></li>
<li><a href="#_response_7">8.4.2. Response</a></li>
</ul>
</li>
<li><a href="#_tiles_from_more_than_one_collection">8.5. Tiles from more than one collection</a>
<ul class="sectlevel3">
<li><a href="#_operation_4">8.5.1. Operation</a></li>
<li><a href="#_parameter_tilematrixsetid_2">8.5.2. Parameter tileMatrixSetId</a></li>
<li><a href="#_parameter_tilematrix_2">8.5.3. Parameter tileMatrix</a></li>
<li><a href="#_parameter_tilerow_2">8.5.4. Parameter tileRow</a></li>
<li><a href="#_parameter_tilecol_2">8.5.5. Parameter tileCol</a></li>
<li><a href="#_parameter_collections">8.5.6. Parameter Collections</a></li>
<li><a href="#_response_8">8.5.7. Response</a></li>
<li><a href="#_error_situations_2">8.5.8. Error situations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_tiles_tile_matrix_set">9. Requirement Class "Tiles Tile Matrix Set"</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">9.1. Overview</a></li>
<li><a href="#_api_landing_page_3">9.2. API landing page</a>
<ul class="sectlevel3">
<li><a href="#_response_9">9.2.1. Response</a></li>
</ul>
</li>
<li><a href="#_declaration_of_conformance_classes_3">9.3. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_10">9.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_tilematrixsets">9.4. TileMatrixSets</a>
<ul class="sectlevel3">
<li><a href="#_operation_5">9.4.1. Operation</a></li>
<li><a href="#_response_11">9.4.2. Response</a></li>
</ul>
</li>
<li><a href="#_tilematrixset">9.5. TileMatrixSet</a>
<ul class="sectlevel3">
<li><a href="#_operation_6">9.5.1. Operation</a></li>
<li><a href="#_response_12">9.5.2. Response</a></li>
</ul>
</li>
<li><a href="#_tiles">9.6. Tiles</a>
<ul class="sectlevel3">
<li><a href="#_collection_extra_properties">9.6.1. Collection extra properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_tiles_info">10. Requirement Class "Tiles Info"</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">10.1. Overview</a></li>
<li><a href="#_overview_5">10.2. Overview</a></li>
<li><a href="#_declaration_of_conformance_classes_4">10.3. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_13">10.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_collection_2">10.4. Collection</a></li>
<li><a href="#_collection_3">10.5. Collection</a>
<ul class="sectlevel3">
<li><a href="#_collection_links_2">10.5.1. Collection Links</a></li>
<li><a href="#_collection_extra_properties_2">10.5.2. Collection extra properties</a></li>
</ul>
</li>
<li><a href="#_featureinfo">10.6. FeatureInfo</a>
<ul class="sectlevel3">
<li><a href="#_featureinfo_document">10.6.1. FeatureInfo document</a></li>
<li><a href="#_getresourcerepresentation">10.6.2. GetResourceRepresentation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_tiles_multitiles">11. Requirement Class "Tiles Multitiles"</a>
<ul class="sectlevel2">
<li><a href="#_overview_6">11.1. Overview</a></li>
<li><a href="#_declaration_of_conformance_classes_5">11.2. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_15">11.2.1. Response</a></li>
</ul>
</li>
<li><a href="#_tiles_description_3">11.3. Tiles description</a>
<ul class="sectlevel3">
<li><a href="#_response_16">11.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_multiple_tiles_from_one_collection">11.4. Multiple tiles from one collection</a>
<ul class="sectlevel3">
<li><a href="#_operation_8">11.4.1. Operation</a></li>
<li><a href="#_parameter_tilematrixsetid_3">11.4.2. Parameter tileMatrixSetId</a></li>
<li><a href="#_parameter_bbox">11.4.3. Parameter bbox</a></li>
<li><a href="#_parameter_scaledenominator">11.4.4. Parameter scaleDenominator</a></li>
<li><a href="#_parameter_multitiletype">11.4.5. Parameter multiTileType</a></li>
<li><a href="#_formats">11.4.6. Formats</a></li>
<li><a href="#_response_17">11.4.7. Response</a></li>
<li><a href="#_error_situations_4">11.4.8. Error situations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_tiles_collections_multitiles">12. Requirement Class "Tiles Collections Multitiles"</a>
<ul class="sectlevel2">
<li><a href="#_overview_7">12.1. Overview</a></li>
<li><a href="#_api_landing_page_4">12.2. API landing page</a></li>
<li><a href="#_declaration_of_conformance_classes_6">12.3. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_18">12.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_tiles_description_4">12.4. Tiles description</a>
<ul class="sectlevel3">
<li><a href="#_response_19">12.4.1. Response</a></li>
</ul>
</li>
<li><a href="#_multiple_tiles_from_more_than_one_collection">12.5. Multiple tiles from more than one collection</a>
<ul class="sectlevel3">
<li><a href="#_operation_9">12.5.1. Operation</a></li>
<li><a href="#_parameter_tilematrixsetid_4">12.5.2. Parameter tileMatrixSetId</a></li>
<li><a href="#_parameter_bbox_2">12.5.3. Parameter bbox</a></li>
<li><a href="#_parameter_scaledenominator_2">12.5.4. Parameter scaleDenominator</a></li>
<li><a href="#_parameter_multitiletype_2">12.5.5. Parameter multiTileType</a></li>
<li><a href="#_parameter_collections_2">12.5.6. Parameter Collections</a></li>
<li><a href="#_formats_2">12.5.7. Formats</a></li>
<li><a href="#_response_20">12.5.8. Response</a></li>
<li><a href="#_error_situations_5">12.5.9. Error situations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_map_core">13. Requirement Class "Map Core"</a>
<ul class="sectlevel2">
<li><a href="#_overview_8">13.1. Overview</a></li>
<li><a href="#_general_2">13.2. General</a></li>
<li><a href="#_api_landing_page_5">13.3. API landing page</a>
<ul class="sectlevel3">
<li><a href="#_response_21">13.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_declaration_of_conformance_classes_7">13.4. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_22">13.4.1. Response</a></li>
</ul>
</li>
<li><a href="#_collections_2">13.5. Collections</a></li>
<li><a href="#_maps_description_resource">13.6. Maps description resource</a>
<ul class="sectlevel3">
<li><a href="#_map_description_response">13.6.1. Map description response</a></li>
</ul>
</li>
<li><a href="#_maps">13.7. Maps</a>
<ul class="sectlevel3">
<li><a href="#_parameter_styleid">13.7.1. Parameter styleId</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_map_styles">14. Requirement Class "Map Styles"</a>
<ul class="sectlevel2">
<li><a href="#_overview_9">14.1. Overview</a></li>
<li><a href="#_declaration_of_conformance_classes_8">14.2. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_23">14.2.1. Response</a></li>
</ul>
</li>
<li><a href="#_collection_4">14.3. Collection</a>
<ul class="sectlevel3">
<li><a href="#_collection_links_3">14.3.1. Collection Links</a></li>
<li><a href="#_collection_extra_properties_3">14.3.2. Collection extra properties</a></li>
</ul>
</li>
<li><a href="#_maps_2">14.4. Maps</a>
<ul class="sectlevel3">
<li><a href="#_parameter_styleid_2">14.4.1. Parameter styleId</a></li>
<li><a href="#_parameter_transparent">14.4.2. Parameter transparent</a></li>
<li><a href="#_parameter_bgcolor">14.4.3. Parameter bgcolor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_map_maps">15. Requirement Class "Map Maps"</a>
<ul class="sectlevel2">
<li><a href="#_overview_10">15.1. Overview</a></li>
<li><a href="#_general_3">15.2. General</a></li>
<li><a href="#_api_landing_page_6">15.3. API landing page</a>
<ul class="sectlevel3">
<li><a href="#_response_24">15.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_declaration_of_conformance_classes_9">15.4. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_25">15.4.1. Response</a></li>
</ul>
</li>
<li><a href="#_collections_3">15.5. Collections</a></li>
<li><a href="#_collection_5">15.6. Collection</a>
<ul class="sectlevel3">
<li><a href="#_collection_links_4">15.6.1. Collection Links</a></li>
<li><a href="#_collection_extra_parameters">15.6.2. Collection extra parameters</a></li>
</ul>
</li>
<li><a href="#_maps_from_one_collection">15.7. Maps from one collection</a>
<ul class="sectlevel3">
<li><a href="#_operation_10">15.7.1. Operation</a></li>
<li><a href="#_parameter_crs">15.7.2. Parameter crs</a></li>
<li><a href="#_parameter_bbox_3">15.7.3. Parameter bbox</a></li>
<li><a href="#_parameter_width">15.7.4. Parameter width</a></li>
<li><a href="#_parameter_height">15.7.5. Parameter height</a></li>
<li><a href="#_response_26">15.7.6. Response</a></li>
<li><a href="#_error_situations_6">15.7.7. Error situations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_map_from_more_than_one_collection">16. Requirement Class "Map from more than one collection"</a>
<ul class="sectlevel2">
<li><a href="#_overview_11">16.1. Overview</a></li>
<li><a href="#_declaration_of_conformance_classes_10">16.2. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_27">16.2.1. Response</a></li>
</ul>
</li>
<li><a href="#_maps_from_more_than_one_collection">16.3. Maps from more than one collection</a>
<ul class="sectlevel3">
<li><a href="#_operation_11">16.3.1. Operation</a></li>
<li><a href="#_parameter_styles">16.3.2. Parameter styles</a></li>
<li><a href="#_parameter_collections_3">16.3.3. Parameter Collections</a></li>
<li><a href="#_response_28">16.3.4. Response</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_checkpoint_core">17. Requirement Class "Checkpoint core"</a>
<ul class="sectlevel2">
<li><a href="#_overview_12">17.1. Overview</a></li>
<li><a href="#_general_4">17.2. General</a></li>
<li><a href="#_api_landing_page_7">17.3. API landing page</a>
<ul class="sectlevel3">
<li><a href="#_response_29">17.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_declaration_of_conformance_classes_11">17.4. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_30">17.4.1. Response</a></li>
</ul>
</li>
<li><a href="#_resource_retrieval">17.5. Resource retrieval</a>
<ul class="sectlevel3">
<li><a href="#_headers">17.5.1. Headers</a></li>
</ul>
</li>
<li><a href="#_checkpoint_extra_parameters">17.6. Checkpoint extra parameters</a>
<ul class="sectlevel3">
<li><a href="#_parameter_checkpoint">17.6.1. Parameter Checkpoint</a></li>
<li><a href="#_parameter_priority">17.6.2. Parameter priority</a></li>
<li><a href="#_parameter_changesettype">17.6.3. Parameter changeSetType</a></li>
</ul>
</li>
<li><a href="#_changeset_response">17.7. ChangeSet response</a>
<ul class="sectlevel3">
<li><a href="#_changeset_response_with_changes">17.7.1. ChangeSet response with changes</a></li>
<li><a href="#_changeset_response_with_no_changes">17.7.2. ChangeSet response with no changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirement_class_checkpoint_tiles">18. Requirement Class "Checkpoint tiles"</a>
<ul class="sectlevel2">
<li><a href="#_overview_13">18.1. Overview</a></li>
<li><a href="#_api_landing_page_8">18.2. API landing page</a></li>
<li><a href="#_declaration_of_conformance_classes_12">18.3. Declaration of conformance classes</a>
<ul class="sectlevel3">
<li><a href="#_response_31">18.3.1. Response</a></li>
</ul>
</li>
<li><a href="#_checkpoint_operation">18.4. Checkpoint operation</a>
<ul class="sectlevel3">
<li><a href="#_parameter_changesettype_2">18.4.1. Parameter changeSetType</a></li>
</ul>
</li>
<li><a href="#_changeset_response_2">18.5. ChangeSet response</a></li>
</ul>
</li>
<li><a href="#_requirements_classes_for_encodings">19. Requirements classes for encodings</a>
<ul class="sectlevel2">
<li><a href="#_overview_14">19.1. Overview</a></li>
<li><a href="#_requirement_class_html">19.2. Requirement Class "HTML"</a></li>
<li><a href="#_requirement_class_geojson">19.3. Requirement Class "GeoJSON"</a></li>
<li><a href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_0">19.4. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</a></li>
<li><a href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_2">19.5. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</a></li>
</ul>
</li>
<li><a href="#_requirements_class_openapi_3_0">20. Requirements class "OpenAPI 3.0"</a>
<ul class="sectlevel2">
<li><a href="#_basic_requirements">20.1. Basic requirements</a></li>
<li><a href="#_complete_definition">20.2. Complete definition</a></li>
<li><a href="#exceptions">20.3. Exceptions</a></li>
<li><a href="#security">20.4. Security</a></li>
</ul>
</li>
<li><a href="#_conformance_class_abstract_test_suite_normative">Annex A: Conformance Class Abstract Test Suite (Normative)</a>
<ul class="sectlevel2">
<li><a href="#_conformance_class_a">A.1. Conformance Class A</a>
<ul class="sectlevel3">
<li><a href="#_requirement_1">A.1.1. Requirement 1</a></li>
<li><a href="#_requirement_2">A.1.2. Requirement 2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph">
<p>The OGC has started a focused effort to extend their service standards into the Resource Oriented Architecture world. As part of this effort, this standard defines an API for Map Tiles.</p>
</div>
<div class="paragraph">
<p>The Map Tile API described in this standard builds on the Web Map Tile Service (WMTS) OGC standard.  WMTS provides a scalable, high performance services for web based distribution of cartographic maps. WMTS, in turn, complements earlier efforts to develop services for the web based distribution of cartographic maps. In particular, it compliments the OGC Web Map Service (WMS). WMS focuses on rendering custom maps and is an ideal solution for dynamic data or custom styled maps (combined with the OGC Style Layer Descriptor (SLD) standard). WMTS trades the flexibility of custom map rendering for the scalability possible by serving of static data (base maps) where the bounding box and scales have been constrained to discrete tiles. Note that an API version of WMS is also under development.</p>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>ogcdoc, OGC document, tiling, WMTS</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph">
<p>This document defines an OGC standard for a Web Map Tile API standard. A Map Tile enabled API can serve map tiles of spatially referenced data using tile images with predefined content, extent, and resolution. Suggested additions, changes and comments on this standard are welcome and encouraged. Such suggestions may be submitted using the online change request form on OGC web site: <a href="http://portal.opengeospatial.org/public_ogc/change_request.php" class="bare">http://portal.opengeospatial.org/public_ogc/change_request.php</a></p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph">
<p>The following organizations submitted this Document to the Open Geospatial Consortium (OGC):</p>
</div>
<div class="paragraph">
<p>Organization name(s)</p>
</div>
<div class="paragraph">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph">
<p>All questions regarding this submission should be directed to the editor or the submitters:</p>
</div>
<div class="paragraph">
<p>Name  Affiliation</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This International Standard specifies how to access maps and tiles in a manner independent of the underlying data store through [OpenAPI](<a href="https://www.openapis.org/">https://www.openapis.org/</a>). This standard specifies discovery and query operations.</p>
</div>
<div class="sect2">
<h3 id="_current_scope"><a class="anchor" href="#_current_scope"></a>1.1. Current scope:</h3>
<div class="ulist">
<ul>
<li>
<p>Discovery operations allow the API to be interrogated to determine its capabilities and retrieve information (metadata) about this distribution of tiles and maps. This includes the API definition as well as metadata about the feature collections provided through the API and the TileMatrixSets supported by this service.</p>
</li>
<li>
<p>Retrieve of maps as defined by the WMS 1.3</p>
</li>
<li>
<p>Retrieve of tiles as defined by the WMTS 1.0</p>
</li>
<li>
<p>Query about a point in a map or a tile (GetFeatureInfo)</p>
</li>
<li>
<p>Retrieve multiple tiles in a single request.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance"><a class="anchor" href="#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This standard defines <strong>TBD</strong> requirements / conformance classes.</p>
</div>
<div class="paragraph">
<p>The standardization targets of all conformance classes are "web services".</p>
</div>
<div class="paragraph">
<p>The main requirements class is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_core">Core</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>Core</em> specifies requirements that all Map Tile APIs have to implement.</p>
</div>
<div class="paragraph">
<p><strong>TBD</strong> requirements classes depend on the <em>Core</em> and &lt;enter their purpose here&gt;:</p>
</div>
<div class="paragraph">
<p>C<strong>apture additional requirements classes here</strong></p>
</div>
<div class="paragraph">
<p>Conformance with this standard shall be checked using all the relevant tests specified in Annex A (normative) of this document. The framework, concepts, and methodology for testing, and the criteria to be achieved to claim conformance are specified in the OGC Compliance Testing Policies and Procedures and the OGC Compliance Testing web site.</p>
</div>
<div class="paragraph">
<p>In order to conform to this OGC® interface standard, a software implementation shall choose to implement:
* Any one of the conformance levels specified in Annex A (normative).
* Any one of the Distributed Computing Platform profiles specified in Annexes TBD through TBD (normative).</p>
</div>
<div class="paragraph">
<p>All requirements-classes and conformance-classes described in this document are owned by the standard(s) identified.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="paragraph">
<p>OGC: OGC API (OAPI) Common Specification <a href="https://github.com/opengeospatial/oapi_common" class="bare">https://github.com/opengeospatial/oapi_common</a> (in the process of elaboration)</p>
</div>
<div class="paragraph">
<p>OGC: OGC 17-083r2, OGC Two Dimensional Tile Matrix Set Standard (2019)</p>
</div>
<div class="paragraph">
<p>In addition, this standard is deeply inspired in concepts defined in the following documents. This standard offers and alternative interface to fulfill similar tasks included in these references.</p>
</div>
<div class="paragraph">
<p>OGC and ISO: OGC 06-042 1.3.0	OpenGIS Web Map Service (WMS) Implementation Specification</p>
</div>
<div class="paragraph">
<p>OGC: OGC 07-057, OpenGIS® Web Map Tile Service Implementation Standard (2010)</p>
</div>
<div class="paragraph">
<p>OGC: OGC 13-082, OGC® Web Map Tile Service (WMTS) Simple Profile (2016)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4. Terms and Definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r8], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following additional terms and definitions apply.</p>
</div>
<div class="sect2">
<h3 id="_term_name"><a class="anchor" href="#_term_name"></a>4.1. <strong>term name</strong></h3>
<div class="paragraph">
<p>text of the definition</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions"><a class="anchor" href="#_conventions"></a>5. Conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This sections provides details and examples for any conventions used in the document. Examples of conventions are symbols, abbreviations, use of XML schema, or special notes regarding how to read the document.</p>
</div>
<div class="sect2">
<h3 id="_identifiers"><a class="anchor" href="#_identifiers"></a>5.1. Identifiers</h3>
<div class="paragraph">
<p>The normative provisions in this standard are denoted by the URI</p>
</div>
<div class="paragraph">
<p><a href="http://www.opengis.net/spec/{standard}/{m.n}" class="bare">http://www.opengis.net/spec/{standard}/{m.n}</a></p>
</div>
<div class="paragraph">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>6. Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_evolution_from_ogc_web_services"><a class="anchor" href="#_evolution_from_ogc_web_services"></a>6.1. Evolution from OGC Web Services</h3>
<div class="paragraph">
<p>OGC Web Service (OWS) standards implemented a Remote-Procedure-Call-over-HTTP architectural style using XML for payloads. This was the state-of-the-art when OGC Web Services were originally designed in the late 1990s and early 2000s. This architectural style has fallen out of favor. It has been replaces by a RESTful API style which is resource oriented instead of service oriented. This Map Tiles API standard specifies an API that follows this Web architecture and in particular the <a href="#SDWBP">W3C/OGC best practices for sharing Spatial Data on the Web</a> as well as the <a href="#DWBP">W3C best practices for sharing Data on the Web</a>.</p>
</div>
<div class="paragraph">
<p>The OGC API (OAPI) Common specifies the common kernel of an API approach to services that follows current resource-oriented architecture practices. OAPI Common is the foundation upon which OGC APIs will be built. This common API is to be extended by resource-specific API standards. This specification extends OAPI Common to support Map Tile resources.</p>
</div>
<div class="paragraph">
<p>Beside the general alignment with the architecture of the Web (e.g., consistency with HTTP/HTTPS, hypermedia controls), another goal for OGC API standards is modularization. This goal has several facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Clear separation between core requirements and more advanced capabilities. This document specifies the requirements that are relevant for almost everyone who wants to share or use Map Tiles on a fine-grained level. Additional capabilities that several communities are using today will be specified as extensions to the Core API.</p>
</li>
<li>
<p>Technologies that change more frequently are decoupled and specified in separate modules ("requirements classes" in OGC terminology). This enables, for example, the use/re-use of new encodings for spatial data or API descriptions.</p>
</li>
<li>
<p>Modularization is not just about a single "service". OGC APIs will provide building blocks that can be reused in APIs in general. In other words, a server supporting the Map Tiles API should not be seen as a standalone service.  Rather it should be viewed as a collection of API building blocks which together implement Map Tile capabilities. A corollary of this is that it should be possible to implement an API that simultaneously conforms to conformance classes from the Feature, Coverage, Map Tiles, and other OGC Web API standards.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This approach intends to support two types of client developers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Those that have never heard about OGC. Developers should be able to create a client using the API definition without the need to read an OGC standard (they may need to learn a little bit about geometry, etc.);</p>
</li>
<li>
<p>Those that want to write a "generic" client that can access OGC APIs, i.e. are not specific for a particular API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a result of this modernization, OGC API implementations are not backwards compatible with OWS implementations per se. However, a design goal is to define OGC APIs in a way so that an OAPI interface can be mapped to a OWS implementation. OGC APIs are intended to be simpler and more modern, but still an evolution from the previous versions and their implementations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_encodings"><a class="anchor" href="#_encodings"></a>6.2. Encodings</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Discuss if different encodings of map tiles are anticipated.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>6.3. Examples</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Update the following content once a Map Tile example has been agreed on.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This document uses a simple example throughout the document: The dataset contains buildings and the API provides access to them through a single feature collection ("buildings") and two encodings, GeoJSON and HTML.</p>
</div>
<div class="paragraph">
<p>The buildings have a few (optional) properties: the polygon geometry of the building footprint, a name, the function of the building (residential, commercial or public use), the floor count and the timestamp of the last update of the building feature in the dataset.</p>
</div>
<div class="paragraph">
<p>This example serves to illustrate the concepts underlying OGC APIs. It does not indicate that OGC APIs are always feature based. Other resource types can and will be implemented as well. But the basic capapablities described in this specification will apply to all.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_tiles_core"><a class="anchor" href="#_requirement_class_tiles_core"></a>7. Requirement Class "Tiles Core"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>7.1. Overview</h3>
<table id="rc_tiles-core" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2818">RFC 2818 (HTTP over TLS)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc3339">RFC 3339 (Date and Time on the Internet: Timestamps)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc8288">RFC 8288 (Web Linking)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixset2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixset2d</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>An API that implements this conformance class provides access to tiled resources of a <a href="https://www.w3.org/TR/vocab-dcat/#class-dataset">dataset</a>. In other words, the API is a <a href="https://www.w3.org/TR/vocab-dcat/#class-distribution">distribution</a> of that dataset. The OGC API features, for example, would be another distribution.</p>
</div>
<div class="paragraph">
<p>The entry point is a <code>Landing page</code> (path <code>/</code>).</p>
</div>
<div class="paragraph">
<p>The <code>Landing page</code> provides links to
* the <code>API definition</code> (path <code>/api</code>, link relation <code>service</code>),
* the <code>Conformance declaration</code> (path <code>/conformance</code>, link relation <code>conformance</code>), and
* the <code>Collections</code> (path <code>/collections</code>, link relation <code>data</code>).</p>
</div>
<div class="paragraph">
<p>The <code>API definition</code> describes the capabilities of the API that can be used by clients to retrieve resources from the API or by development tools to support the implementation of API servers and clients. Accessing the <code>API definition</code> using HTTP GET returns a description of the API.</p>
</div>
<div class="paragraph">
<p>The <code>Conformance declaration</code> states the requirements classes from standards or community specifications, identified by a URI, that the API conforms to. Clients can, but are not required to, use this information. Accessing the <code>Conformance declaration</code> using HTTP GET returns the list of URIs of requirements classes implemented by the API.</p>
</div>
<div class="paragraph">
<p>The tiles core does not mandate the inclusion of an explicit definition of any TileMatrixSet. The standard assumes that clients and services know about the eight TileMatrixSets defined in OGC 17-083r2 annex D and there is no need to communicate these definitions. An extension to the core provides the capability to include definitions of flexible TileMatrixSets.</p>
</div>
<div class="paragraph">
<p>This standard assumes that data is organized into one or more collections. <code>Collections</code> provides information about and access to the collections.</p>
</div>
<div class="paragraph">
<p>This document does not specify requirements for collections and they can consist on features, coverages, a resource that does not represent data per-se (e.g. an annotation) any other resource that can be represented in a tile. collectionId replaces the concept of layer in WMS and WMTS. Maps or tiles can be generated from one collection (or a combination of collections as an extension).</p>
</div>
<div class="paragraph">
<p>Accessing <code>Collections</code> using HTTP GET returns a response that contains at least the list of collections. Accessing <code>Collections/{collectionId}</code> using HTTP GET returns a description of a collection with an indication if the collection can be retrieved as a map or a tile or both. Accessing the items of a collections is out of the scope of this standard and you need to refer to other document standard describing OGC APIs for features or coverages. For each <code>Collection</code>, a link to metadata about the collection is available (path <code>/collections/{collectionId}</code>) with key information about the collection. This information includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A local identifier for the collection that is unique for the dataset;</p>
</li>
<li>
<p>An optional title and description for the collection;</p>
</li>
<li>
<p>An optional extent that can be used to provide an indication of the spatial and temporal extent of the collection - typically derived from the data;</p>
</li>
<li>
<p>A list of TileMatrixSetLink to the available tiling schemas supported by the collection (From the linked TileMatrixSet member the client can determine the coordinate reference systems (CRS) in which tiles may be returned by the API)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Collection</code> resource is available at path <code>/collections/{collectionId}</code>, often with more details than included in the <code>Collections</code> response.</p>
</div>
</div>
<div class="sect2">
<h3 id="_general"><a class="anchor" href="#_general"></a>7.2. General</h3>
<table id="req_tiles_core_api-common" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/api-common</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The OGC API SHALL comply with the requirements specified in the <a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/core" class="bare">http://www.opengis.net/spec/OAPI_Common/1.0/req/core</a> and <a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/collections" class="bare">http://www.opengis.net/spec/OAPI_Common/1.0/req/collections</a> Requirements Classes of the OGC API-Common version 1.0 Standard.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In practice, this means that the landing page and the conformance page follows OGC API Common core and collections requirements (STILL TBD but mostly equivalent to the more general parts of WFS3.0 requirements but with the text generalized to other resource types). This standard provides extra additions to the OWS common requirements that are particular to tiles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page"><a class="anchor" href="#_api_landing_page"></a>7.3. API landing page</h3>
<div class="paragraph">
<p>The landing page provides links to start exploring the resources offered by the API. It mainly consists in a list of links. OWS Common already requires some common links that are enough for this core.</p>
</div>
<div class="sect3">
<h4 id="_response"><a class="anchor" href="#_response"></a>7.3.1. Response</h4>
<div class="paragraph">
<p>No variations are required in the landing page.
With a /collections successful response it is possible to retrieve the list of collectionId and links to the /collections/{collectionId}.
With a /collections/{collectionId} successful response, it is possible to discover the links to retrieve some tiles. The other tiles can be retrieved by following the /collections/{collectionId}/tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol} template.
Note that other resources an also be retrieved as collections.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes"><a class="anchor" href="#_declaration_of_conformance_classes"></a>7.4. Declaration of conformance classes</h3>
<div class="paragraph">
<p>To support "generic" clients that want to access multiple OGC API standards and extensions - and not "just" a specific API / server, the API has to declare the requirements classes it implements and conforms to.</p>
</div>
<div class="sect3">
<h4 id="_response_2"><a class="anchor" href="#_response_2"></a>7.4.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_tiles_core_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the tiles core conformance class as links to <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 1. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collections"><a class="anchor" href="#_collections"></a>7.5. Collections</h3>
<div class="paragraph">
<p>TBD: What will happen with collections of coverages?</p>
</div>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collections. Collections are mandatory in the core of this standard because collections are the object that will be included in a tile.</p>
</div>
<div class="paragraph">
<p>Collections will enumerate the collectionId available in this API as well as basic information about each collectionId: id, title, description, extent, crs and links. This common response is considered enough for a general
description of the collection.</p>
</div>
<table id="req_tiles_core_tc-md-collection-links" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/tc-md-collection-links</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each collection included in the response, a <code>links</code> property of the collection SHALL include a link to the description of the individual collection (relation: <code>item</code>) (in addition to other links specified in OGC API Commons).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>More specific details about the collection can be found following the link to the individual collections that follow the pattern /collections/{collectionId}</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The collectionId substitutes the concept of "layer" in WMTS.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_collection"><a class="anchor" href="#_collection"></a>7.6. Collection</h3>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collection. The response of the operation is extended with a new link for the tiles description.</p>
</div>
<div class="sect3">
<h4 id="_collection_links"><a class="anchor" href="#_collection_links"></a>7.6.1. Collection Links</h4>
<table id="req_tiles_core_stc-tiles-example" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/stc-tiles-example</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the resource can be retrieved as tiles, a <code>200</code>-response SHALL include at least a link to a tiles description for this resource.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>These links SHALL provide a URL template with the fragment <code>/tiles</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tiles_description"><a class="anchor" href="#_tiles_description"></a>7.7. Tiles description</h3>
<div class="paragraph">
<p>The response of this operation contains the necessary information to later formulate a tile request for a collection.</p>
</div>
<div class="sect3">
<h4 id="_operation"><a class="anchor" href="#_operation"></a>7.7.1. Operation</h4>
<table id="req_tiles_core_sct-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/sct-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Every resource available as tiles SHALL support an operation to retrieve the description of the tiles it can provide, available as a HTTP GET request to a URI that will be composed by two parts: a initial part is the URI of a resource that can be represented as tiles and the final part follows the pattern /tiles. Only the resources or collection that supports this operation can be retrieved as tiles.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The request of this operation has no parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_3"><a class="anchor" href="#_response_3"></a>7.7.2. Response</h4>
<div class="paragraph">
<p>A successful response of a tiles request for a collection that can be retrieved as tiles will respond with a data structure with specific information necessary to get tiles representing the resource collection. In this core, the response only informs about in which tile matrix sets tiles can be retrieved and the URL template to a tile.</p>
</div>
<table id="req_tiles_core_stc-tmxslink.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/stc-tmxslink</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of the response of a successful execution SHALL contain a property called <em>tileMatrixSetLinks</em> with a list of <em>tileMatrixSetLink</em> objects following a data model defined in the clause 7.3 of OGC 17-083r2. In the core <em>tileMatrixSetLink</em> is only used for referencing the supported TileMatrixSets for the tiles limiting it to the following schema (expressed in OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  tileMatrixSetLink-set:
    description: This list tileMatrixSetLink as defined in OGC 17-083r2 supported by this collectionId.
    type: array
    items:
      $ref: &#39;#/components/schemas/tileMatrixSetLink-entry&#39;
  tileMatrixSetLink-entry:
    type: object
    required:
      - tileMatrixSet
    properties:
      tileMatrixSet:
        type: string
        example: &#39;WebMercatorQuad&#39;
      tileMatrixSetURI:
        type: string
        format: uri
        example: &#39;http://www.opengis.net/def/tilematrixset/OGC/1.0/WebMercatorQuad&#39;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>This core does not provide any mechanism to defined TileMatrixSets so if this mechanism is not provided in an extension, the tileMatrixSetURI should point to one of the 8 URIs defined in the OGC 17-083r2 Annex D.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 2. Example of a tiles property in the tiles response.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;tileMatrixSetLinks&quot;: [
    {
      &quot;tileMatrixSet&quot;: &quot;WebMercatorQuad&quot;,
      &quot;tileMatrixSetURI&quot;: &quot;http://www.opengis.net/def/tilematrixset/OGC/1.0/WebMercatorQuad&quot;
    }
  ]
  ...
}</code></pre>
</div>
</div>
</div>
</div>
<table id="req_tiles_core_sct-tile-examples" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/sct-tile-examples</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of the response of a successful execution SHALL include at least a link to a tile URI template (relation: <code>tiles</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>These links SHALL provide a URL template with the fragment <code>/tiles</code> followed by the variables {tileMatrixSetId}, {tileMatrix}, {tileRow} and {tileCol}. Once the variables are substituted by their respective valid values, a URL to a tile is obtained.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>There SHALL be a link to a tile URI template for each format that the server supports (the format is indicates in the 'type' attribute of the link)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>One common order used in URL templates for tiles is &#8230;&#8203;/tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}, but this standard allows for other URL template dispositions.</p>
</div>
<table id="URL_template_tile" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. URI template variables for tiles and possible values</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 21.2121%;">
<col style="width: 42.4242%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URL template variable</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Meaning</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Possible values</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileMatrixSetId</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">tile matrix set identifier</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">the ones included in Annex D of OGC 17-083r2 or defined by extensions of this core.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">TileMatrix</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">tile matrix identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">identifier of the tile matrix (representing a zoom level, a.k.a. a scale) listed in the TileMatrixSet definition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">TileRow</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">row index of tile matrix</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">a non-negative integer between 0 and the MatrixHeight – 1. If there is a TileMatrixSetLimits the value is limited between MinTileRow and MaxTileRow</p></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 3. API tiles response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>links:
[
    {
      &quot;href&quot;: &quot;http://data.example.com/collections/buildings/tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}&quot;,
      &quot;rel&quot;: &quot;tiles&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
    }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tiled_data_from_one_collection"><a class="anchor" href="#_tiled_data_from_one_collection"></a>7.8. Tiled data from one collection</h3>
<div class="paragraph">
<p>The core provides a mechanism to select and retrieve a tile from a TileMatrixSet. If the service does not advertise any other TileMatrixSet (this core does not provide any mechanism to do that, but extensions can do it) only the TileMatrixSet identifiers specified in the Annex D.1 of the OGC 17-083r2 standard can be used.</p>
</div>
<div class="sect3">
<h4 id="_operation_2"><a class="anchor" href="#_operation_2"></a>7.8.1. Operation</h4>
<table id="req_tiles_core_tc-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/tc-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Every tile SHALL be available as a HTTP GET request to a URI that will be composed by two parts: a initial part is the URI of a resource that can be represented as tiles and the final part follows the pattern /tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Typical resources that can be retrieved as tiles are: features (/collections/{collectionId}), coverages (/collections/{collectionId}/coverage/{coverageId} or /coverage/{coverageId}) or maps (/collections/{collectionId}/map/styleId}).</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilematrixsetid"><a class="anchor" href="#_parameter_tilematrixsetid"></a>7.8.2. Parameter tileMatrixSetId</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_core.adoc - include::requirements/tiles/core/REQ_tc-tilematrixsetid-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilematrix"><a class="anchor" href="#_parameter_tilematrix"></a>7.8.3. Parameter tileMatrix</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_core.adoc - include::requirements/tiles/core/REQ_tc-tilematrix-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilerow"><a class="anchor" href="#_parameter_tilerow"></a>7.8.4. Parameter tileRow</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_core.adoc - include::requirements/tiles/core/REQ_tc-tilerow-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilecol"><a class="anchor" href="#_parameter_tilecol"></a>7.8.5. Parameter tileCol</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_core.adoc - include::requirements/tiles/core/REQ_tc-tilecol-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_4"><a class="anchor" href="#_response_4"></a>7.8.6. Response</h4>
<div class="paragraph">
<p>A successful response of a tile request will be consistent with the media type of resource requested. This standard does not impose any media type. For example; for features can be geojson of Mapbox vector tiles; coverages it my be a geotiff and for maps it can be a jpeg or a png.</p>
</div>
<table id="req_tiles_core_tc-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/tc-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be consistent with the format requested and represent elements inside or intersecting with the spatial extent of the geographical area of the tile identified by TileMatrixSet, TileMatrix, TileRow and TileCol.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Normally, the content partially outside the tile bounding box will be clipped and this is particularly true when tiles are in raster format. Nevertheless, tiles containing features in vector format may not clip the features partially outside.</p>
</div>
<table id="rec_tiles_core_tc-success-scale" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/tiles/core/tc-success-scale</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response should be simplified to comply with the scale denominator represented by the TileMatrix identified. Full resolution geographical elements will only be provided for the lower values of scale denominators.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_error_situations"><a class="anchor" href="#_error_situations"></a>7.8.7. Error situations</h4>
<div class="paragraph">
<p>A general summary of the HTTP status codes can be found in OWS Common.</p>
</div>
<div class="paragraph">
<p>If the parameter value <code>tileMatrixSetId</code> is not available by the server for this resource or the parameters values <code>tileMatrix</code>, <code>tileRow</code>, <code>tileCol</code> are out-of-range, the status code of the response will be 404.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_tiles_from_more_than_one_collection"><a class="anchor" href="#_requirement_class_tiles_from_more_than_one_collection"></a>8. Requirement Class "Tiles from more than one collection"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>8.1. Overview</h3>
<table id="rc_tiles-collections" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In previous clauses we have been discussion about tiles that are produced from one and only one resource. This is achieved by concatenating the tile path to a resource (e.g. a feature collection). This extension discusses the combination of more than one resource to create a tile. This is achieved by adding the tile path to the root of the service.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_2"><a class="anchor" href="#_api_landing_page_2"></a>8.2. API landing page</h3>
<div class="paragraph">
<p>The landing page provides links to start exploring the resources offered by the API. It mainly consists of a list of links. The core of this standard does not add anything to the links required by OWS Common.
This extension for TileMatrixSet requires new one for the description of the tiles from more than one collection on top of the common ones.</p>
</div>
<div class="sect3">
<h4 id="_response_5"><a class="anchor" href="#_response_5"></a>8.2.1. Response</h4>
<table id="req_tiles_collections_root-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/root-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API SHALL advertise a URI to retrieve tiles definitions defined by this service as links to the descriptions paths with rel=tiles.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the landing page, in JSON format, the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles landing page</p>
</div>
<div id="landingPage" class="exampleblock">
<div class="title">Example 4. API Landing Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  links: [
    ...,
    {
       &quot;href&quot;: &quot;http://data.example.org/tiles&quot;,
       &quot;rel&quot;: &quot;tiles&quot;,
       &quot;type&quot;: &quot;application/json&quot;,
       &quot;title&quot;: &quot;Link to information on map tiles combining more than one collection&quot;,
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_2"><a class="anchor" href="#_declaration_of_conformance_classes_2"></a>8.3. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_6"><a class="anchor" href="#_response_6"></a>8.3.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_tiles_collections_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of generating tiles from multiple collections adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 5. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tiles_description_2"><a class="anchor" href="#_tiles_description_2"></a>8.4. Tiles description</h3>
<div class="paragraph">
<p>The response of this operation contains the necessary information to later formulate a tile request from more than one collection.</p>
</div>
<div class="sect3">
<h4 id="_operation_3"><a class="anchor" href="#_operation_3"></a>8.4.1. Operation</h4>
<table id="req_tiles_collections_ts-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/ts-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support an operation to retrieve the description of the tiles from more than one collection, available as a HTTP GET request to a URI that will be composed by two parts: a initial part is the URI of a resource that can be represented as tiles (e.g. <code>/map</code> or simply <code>/</code>) and the final part follows the pattern <code>/tiles</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The request of this operation has no parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_7"><a class="anchor" href="#_response_7"></a>8.4.2. Response</h4>
<div class="paragraph">
<p>A successful response of a tiles request for more than one collection will respond with a data structure with specific information necessary to get tiles representing the resource collection. In this extension, the response only provides the URL template to retrieve a tile.</p>
</div>
<table id="req_tiles_collections_ts-tile-examples" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/ts-tile-examples</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of the response of a successful execution SHALL include at least a link to a tile URI template (relation: <code>tiles</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>These links SHALL provide a URL template with the fragment <code>/tiles</code> followed by the variables {tileMatrixSetId}, {tileMatrix}, {tileRow} and {tileCol}. Once the variables are substituted by their respective valid values, a URL to a tile is obtained.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>There SHALL be a link to a tile URI template for each format that the server supports (the format is indicates in the 'type' attribute of the link)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>One common order used in URL templates for tiles is &#8230;&#8203;/tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}, but this standard allows for other URL template dispositions.</p>
</div>
<table id="URL_template_tile" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. URI template variables for tiles and possible values</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 21.2121%;">
<col style="width: 42.4242%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URL template variable</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Meaning</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Possible values</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileMatrixSetId</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">tile matrix set identifier</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">the ones included in Annex D of OGC 17-083r2 or defined by extensions of this core.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">TileMatrix</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">tile matrix identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">identifier of the tile matrix (representing a zoom level, a.k.a. a scale) listed in the TileMatrixSet definition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">TileRow</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">row index of tile matrix</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">a non-negative integer between 0 and the MatrixHeight – 1. If there is a TileMatrixSetLimits the value is limited between MinTileRow and MaxTileRow</p></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 6. API tiles response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>links:
[
    {
      &quot;href&quot;: &quot;http://data.example.com/tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}&quot;,
      &quot;rel&quot;: &quot;tiles&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
    }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In general, the <code>tileMatrixSetLinks</code> and the <code>tileMatrixSetLimits</code> can be determined by examine this information in the individual collections. In some cases the server could also include the <code>tileMatrixSetLinks</code> data structure as part of the response of this operation. Clients should be prepared to determined by examine the tileMatrixSet values and limits from the information in the individual collections if a <code>tileMatrixSetLinks</code> data structure is not provided as a response here.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tiles_from_more_than_one_collection"><a class="anchor" href="#_tiles_from_more_than_one_collection"></a>8.5. Tiles from more than one collection</h3>
<div class="sect3">
<h4 id="_operation_4"><a class="anchor" href="#_operation_4"></a>8.5.1. Operation</h4>
<table id="req_tiles_collections_tcs-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/tcs-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path /tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_tilematrixsetid_2"><a class="anchor" href="#_parameter_tilematrixsetid_2"></a>8.5.2. Parameter tileMatrixSetId</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_collections.adoc - include::requirements/tiles/collections/REQ_tcs-tilematrixsetid-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilematrix_2"><a class="anchor" href="#_parameter_tilematrix_2"></a>8.5.3. Parameter tileMatrix</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_collections.adoc - include::requirements/tiles/collections/REQ_tcs-tilematrix-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilerow_2"><a class="anchor" href="#_parameter_tilerow_2"></a>8.5.4. Parameter tileRow</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_collections.adoc - include::requirements/tiles/collections/REQ_tcs-tilerow-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilecol_2"><a class="anchor" href="#_parameter_tilecol_2"></a>8.5.5. Parameter tileCol</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_collections.adoc - include::requirements/tiles/collections/REQ_tcs-tilecol-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_collections"><a class="anchor" href="#_parameter_collections"></a>8.5.6. Parameter Collections</h4>
<table id="req_tiles_collections_tcs-collections-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 15</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/tcs-collections-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>collections</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: collections
  in: query
  required: false
  style: form
  explode: false
  schema:
    type: array
    items:
      type: string</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>collections</code> SHALL contain a comma-separated list of collection identifiers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the collections that advertise a link type=tiles in the /collections/{collectionId} SHALL be included.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the collections that support the same TileMatrixSetId parameter value SHALL be included</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>collections</code> is missing, the service SHALL create a representation based collections on all or some of the collections supporting the TileMatrixSetId parameter value.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_tiles_collections_tcs-collections-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/tcs-collections-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>collections</code> is missing and when it is possible and sensible, all collections SHOULD be represented in the tiles</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>collections</code> is missing, the collections present in the tiles SHOULD be listed in the description of the parameter in the API definition</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_tiles_collections_tcs-collections-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/tiles/collections/tcs-collections-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>collections</code> is missing and if it is not possible and sensible to represent all collections in tiles (e.g. it compromises performance or tiles are become packed with too much elements), the server is allowed to select a subset of the collections for simplification purposes</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_8"><a class="anchor" href="#_response_8"></a>8.5.7. Response</h4>
<div class="paragraph">
<p>A successful response of a tile request will be consistent with the media type of resource requested. This standard does not impose any media type. For example; for features can be geojson of Mapbox vector tiles; coverages it may be a geotiff and for maps it can be a jpeg or a png.</p>
</div>
<table id="req_tiles_collections_tcs-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/tcs-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be consistent with the format requested and represent elements inside or  intersecting with the spatial extent of the geographical area of the tile identified by TileMatrixSet, TileMatrix, TileRow and TileCol.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be simplified to comply with the scale denominator represented by the TileMatrix identified. Full resolution geographical elements will only be provided for the lower values of scale denominators.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_error_situations_2"><a class="anchor" href="#_error_situations_2"></a>8.5.8. Error situations</h4>
<div class="paragraph">
<p>If the parameter value <code>tileMatrixSetId</code> is not available by the server for this resource or the parameters values <code>tileMatrix</code>, <code>tileRow</code>, <code>tileCol</code> are out-of-range, the status code of the response will be 404.</p>
</div>
<div class="paragraph">
<p>If the parameter value of <code>collections</code> does not exist on the server, the status code of the response will be 404.</p>
</div>
<div class="paragraph">
<p>If the parameter value of <code>collections</code> has a wrong format or combines collections and some of them are not compatible with the <code>tileMatrixSetId</code> value, the status code of the response will be 500.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_tiles_tile_matrix_set"><a class="anchor" href="#_requirement_class_tiles_tile_matrix_set"></a>9. Requirement Class "Tiles Tile Matrix Set"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>9.1. Overview</h3>
<table id="rc_tiles-tmxs" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/tmxs" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/tmxs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixset2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixset2d</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixsetlimits2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixsetlimits2d</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixsetlimits2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixsetlimits2d</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixsetlink2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixsetlink2d</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixsetlink2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixsetlink2d</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <em>tiles core</em> clause states that if there is no information on TileMatrixSet, the service can behave as a service that supports the eight TileMatrixSets defined in the Annex D.1 of the OGC 17-083r2 standard. This extension adds all necessary elements to support other TileMatrixSets.</p>
</div>
<div class="paragraph">
<p>The entry point is a <code>Landing page</code> (path <code>/</code>).</p>
</div>
<div class="paragraph">
<p>The <code>Landing page</code> provides links to
* the <code>API definition</code> (path <code>/api</code>, link relation <code>service</code>),
* the <code>Conformance declaration</code> (path <code>/conformance</code>, link relation <code>conformance</code>), and
* the <code>Collections</code> (path <code>/collections</code>, link relation <code>data</code>).
* the <code>TileMatrixSets</code> (path <code>/tileMatrixSets</code>, link relation <code>tileMatrixSet</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_3"><a class="anchor" href="#_api_landing_page_3"></a>9.2. API landing page</h3>
<div class="paragraph">
<p>The landing page provides links to start exploring the resources offered by the API. It mainly consists in a list of links. The core of this standard does not add anything to the links required by OWS Common. This extension for TileMatrixSet requires new ones for TileMatrixSets on top of the common ones.</p>
</div>
<div class="sect3">
<h4 id="_response_9"><a class="anchor" href="#_response_9"></a>9.2.1. Response</h4>
<table id="req_tiles_tmxs_root-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/root-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API SHALL advertise a URI to retrieve the list of TileMatrixSets defined by this service as links to the descriptions paths with rel=tileMatrixSets..</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the landing page, in JSON format, the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles landing page</p>
</div>
<div id="landingPage" class="exampleblock">
<div class="title">Example 7. API Landing Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  links: [
    ...,
    {
      &quot;href&quot;: &quot;http://data.example.org/tileMatrixSet?f=json&quot;,
      &quot;rel&quot;: &quot;tileMatrixSets&quot;,
      &quot;type&quot;: &quot;application/json&quot;,
      &quot;title&quot;: &quot;List of tileMatrixSets implemented by this API in JSON&quot;,
    },
    {
      &quot;href&quot;: &quot;http://data.example.org/tileMatrixSet?f=html&quot;,
      &quot;rel&quot;: &quot;tileMatrixSets&quot;,
      &quot;type&quot;: &quot;text/html&quot;,
      &quot;title&quot;: &quot;List of tileMatrixSets implemented by this API in HTML&quot;,
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With a <code>/collections</code> successful response it is possible to retrieve the list of collectionId and links to the /collections/{collectionId}.
With a /collections/{collectionId} successful response is s possible to discover the links to retrieve some tiles. The other tiles can be retrieved by following the /collections/{collectionId}/tiles/{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol} template. Other tile paths are defined for other resource types that are not collections.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_3"><a class="anchor" href="#_declaration_of_conformance_classes_3"></a>9.3. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_10"><a class="anchor" href="#_response_10"></a>9.3.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_tiles_tmxs_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 18</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of generating tiles from multiple collections adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/tmxs" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/tmxs</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 8. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/tmxs&quot;
    &quot;http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixset2d&quot;
    &quot;http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixset2d&quot;
    &quot;http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixsetlimits2d&quot;
    &quot;http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixsetlimits2d&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tilematrixsets"><a class="anchor" href="#_tilematrixsets"></a>9.4. TileMatrixSets</h3>
<div class="sect3">
<h4 id="_operation_5"><a class="anchor" href="#_operation_5"></a>9.4.1. Operation</h4>
<table id="req_tiles-tmxs-tilematrixsets-op.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 19</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/tmxs-tilematrixsets-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path /tileMatrixSets.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_11"><a class="anchor" href="#_response_11"></a>9.4.2. Response</h4>
<table id="req_tiles-tmxs-tilematrixsets-success.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 20</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/tmxs-tilematrixsets-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code 200.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the response SHALL be a tileMatrixSets object listing the tilematrixsets supported by this server other than the eight ones defined in the Annex D of OGC 17-083r2 standard.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each TileMatrixSet the response SHALL contain a TileMatrixSet id and a link to request the TileMatrixSet description.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="TileMatrixSetsResponseSchema" class="exampleblock">
<div class="title">Example 9. Schema for the TileMatrixSets resource</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>tileMatrixSets:
  type: array
  items:
    $ref: &#39;https://api.swaggerhub.com/domains/UAB-CREAF/ogc-api-common/1.0.0#/components/schemas/id-link&#39;</code></pre>
</div>
</div>
</div>
</div>
<div id="TileMatrixSetsResponseCommonSchema" class="exampleblock">
<div class="title">Example 10. Schema for id-link from OGC API Common used in TileMatrixSets resource and reproduced here for completeness.</div>
<div class="content">
<div class="paragraph">
<p>id-link:
  type: object
  description: |-
    Reusable object that contains an id to a resource and links where the object is described or a representation retrieved. Typically it is useful for paths like <code>\resources</code> and <code>\resources{resourceId}</code>.   <code>\resources</code> will respond an array of id-link listing the <code>resourceId</code> and the links to get it. \collections and \collections{collectionId} is an exception to this pattern.
    The fact that <code>links</code> is an array can be used to advertise the same object representation in different formats.
  required:
    - id
    - links
  properties:
    id:
      type: string
    title:
      type: string
    links:
      type: array
      minItems: 1
      items:
        $ref: '#/components/schemas/link'</p>
</div>
</div>
</div>
<div id="TileMatrixSetsResponseExample" class="exampleblock">
<div class="title">Example 11. Example for the TileMatrixSets resource</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>[
  {
    &quot;id&quot;: &quot;MyWebMercatorQuad&quot;,
    &quot;title&quot;: &quot;My Google Maps Compatible for the World&quot;,
    &quot;links&quot;: [
      {
        &quot;href&quot;: &quot;https://data.example.org/tileMatrixSet/MyWebMercatorQuad&quot;,
        &quot;rel&quot;: &quot;tileMatrixSet&quot;,
        &quot;type&quot;: &quot;application/json&quot;
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tilematrixset"><a class="anchor" href="#_tilematrixset"></a>9.5. TileMatrixSet</h3>
<div class="sect3">
<h4 id="_operation_6"><a class="anchor" href="#_operation_6"></a>9.5.1. Operation</h4>
<table id="req_tiles-tmxs-tilematrixset-op.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 21</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/tmxs-tilematrixset-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path /tileMatrixSet/{tileMatrixSetId}.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter tileMatrixSetId is each id property in the tileMatrixSets response.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_12"><a class="anchor" href="#_response_12"></a>9.5.2. Response</h4>
<table id="req_tiles-tmxs-tilematrixset-success.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 22</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/tmxs-tilematrixset-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code 200.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the response SHALL follow the TileMatrixSet data model defined in the <a href="http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixset2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/tilematrixset2d</a> requirements class of the Clause 7 in the OGC 17-083r2 standard.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the response SHAL be encoded in JSON following the requirements class <a href="http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixset2d" class="bare">http://www.opengis.net/spec/tilematrixset/1.0/req/json-tilematrixset2d</a> of the Clause 9 in the OGC 17-083r2 standard.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_tiles_tmxs-tilematrixset-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/tiles/tmxs/tilematrixset-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server may support that the tileMatrixSetId contains one of the eight TileMatrixSets defined in the Anned D of OGC 17-083r2 and return a successfull response with the description of it.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tiles"><a class="anchor" href="#_tiles"></a>9.6. Tiles</h3>
<div class="paragraph">
<p>This extension modifies the content of the tiles description returned by a successful \collection{collectionId}\tiles request.</p>
</div>
<div class="sect3">
<h4 id="_collection_extra_properties"><a class="anchor" href="#_collection_extra_properties"></a>9.6.1. Collection extra properties</h4>
<table id="req_tiles-tmxs_stc-limits.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 23</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/tmxs/stc-limits</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the extent of the available tiles in the server is smaller than the extent of the TileMatrixSet, the object <em>tileMatrixSetLinks</em> in the <em>tiles</em> successful execution SHALL contain a property called <em>tileMatrixSetLimits</em> that is an array that specifies the limitations in the area available for this collection for each TileMatrix. <em>tileMatrixSetLink</em> object follows a data model defined in the clause 7.3 of OGC 17-083r2 that can be encoded in the following schema (expressed in OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  tileMatrixSetLink-entry:
    type: object
    required:
      - tileMatrixSet
    properties:
      tileMatrixSet:
        type: string
        example: &#39;WebMercatorQuad&#39;
      tileMatrixSetURI:
        type: string
        format: uri
        example: &#39;http://www.opengis.net/def/tilematrixset/OGC/1.0/WebMercatorQuad&#39;
      tileMatrixSetLimits:
        type: array
        minItems: 1
        items:
          $ref: &#39;#/components/schemas/tileMatrixSetLimits-entry&#39;
  tileMatrixSetLimits-entry:
    type: object
    required:
      - tileMatrix
      - minTileRow
      - maxTileRow
      - minTileCol
      - maxTileCol
    properties:
      tileMatrix:
        type: string
        format: uri
        example: &#39;5&#39;
      minTileRow:
        type: number
        format: integer
        minimun: 0
        example: 0
      maxTileRow:
        type: number
        format: integer
        minimun: 0
        example: 1
      minTileCol:
        type: number
        format: integer
        minimun: 0
        example: 3
      maxTileCol:
        type: number
        format: integer
        minimun: 0
        example: 4</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;tileMatrixSetLinks&quot;: [
    {
      &quot;type&quot;: &quot;tileMatrixSetLink&quot;,
      &quot;tileMatrixSet&quot;: &quot;http://www.opengis.net/def/tilematrixset/OGC/1.0/WebMercatorQuad&quot;,
      &quot;tileMatrixSetLimits&quot;: [
        {
          &quot;type&quot;: &quot;tileMatrixSetLimits&quot;,
          &quot;tileMatrix&quot;: &quot;5&quot;,
          &quot;minTileRow&quot;: 0,
          &quot;maxTileRow&quot;: 1,
          &quot;minTileCol&quot;: 3,
          &quot;maxTileCol&quot;: 4
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_tiles_info"><a class="anchor" href="#_requirement_class_tiles_info"></a>10. Requirement Class "Tiles Info"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>10.1. Overview</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TBD by the WMS.SWG. Here there are some initial thoughts to be elaborated. Please ignore this section.
</td>
</tr>
</table>
</div>
<div id="tiles-info-overview" class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/tiles/requirements_class_info.adoc[]</p>
</div>
<div class="paragraph">
<p>This extension makes tiles a little more informative than just "nice pictures" by allowing clients to implement a click user event. By clicking on a tile, the user will receive some textual information describing what is shown in that pixel. For example, by clicking on a tile representing elevation the user will get the elevation value.</p>
</div>
<div class="paragraph">
<p>When full completed, the new OGC API architecture should be able to integrate several representations of the same resource. This way a digital elevation model could be accessible as a tile and also as a coverage. The coverage part should be able to provide elevation values to the client. When that day arrives, this info extension will no longer be needed as the coverage functionality will provide client with enough data to emulate this extension and some other extra interactions such us the capability to create vertical profiles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_overview_5"><a class="anchor" href="#_overview_5"></a>10.2. Overview</h3>
<div id="core-overview" class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/tiles/requirements_class_info.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_4"><a class="anchor" href="#_declaration_of_conformance_classes_4"></a>10.3. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_13"><a class="anchor" href="#_response_13"></a>10.3.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/tiles/limits/REQ_conformance-success.adoc[]</p>
</div>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 12. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/info&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collection_2"><a class="anchor" href="#_collection_2"></a>10.4. Collection</h3>

</div>
<div class="sect2">
<h3 id="_collection_3"><a class="anchor" href="#_collection_3"></a>10.5. Collection</h3>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collection. The response of the operation is extended with the necessary information to formulate a tile response for this collection.</p>
</div>
<div class="sect3">
<h4 id="_collection_links_2"><a class="anchor" href="#_collection_links_2"></a>10.5.1. Collection Links</h4>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::recommendations/tiles/core/REC_sfc-tile-examples.adoc[]</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. API collection response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>links:
[
    {
      &quot;href&quot;: &quot;http://data.example.com/collections/buildings/tiles/WorldMercatorWGS84Quad/0/0/0&quot;,
      &quot;rel&quot;: &quot;tiles&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
    },
    {
      &quot;href&quot;: &quot;http://data.example.com/collections/buildings/tiles/WorldMercatorWGS84Quad/0/0/0/info&quot;,
      &quot;rel&quot;: &quot;info&quot;,
      &quot;type&quot;: &quot;text/html&quot;,
    }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_collection_extra_properties_2"><a class="anchor" href="#_collection_extra_properties_2"></a>10.5.2. Collection extra properties</h4>
<div class="paragraph">
<p>TBD. REMOVE FORMATS AS THEY ARE PROVIDED AS LINKS.</p>
</div>
<div class="exampleblock">
<div class="title">Example 14. Example of a tiles property in the collection response.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>  &quot;tiles&quot;: {
    &quot;formats&quot;: [
      [
        &quot;image/jpeg&quot;,
        &quot;image/png&quot;
      ]
    ],
    &quot;infoFormats&quot;: [
      [
        &quot;application/geo+json&quot;,
        &quot;text/html&quot;
      ]
    ]
  }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_featureinfo"><a class="anchor" href="#_featureinfo"></a>10.6. FeatureInfo</h3>
<div class="paragraph">
<p>Map Tile APIs may support requests for information about the features present at a particular pixel location on a map tile. Requests for feature information will specify the tile along with a pixel location on that tile. The server will provide information on the features present at or near the location specified by the client request. The server may choose what information to provide about the nearby features.</p>
</div>
<div class="sect3">
<h4 id="_featureinfo_document"><a class="anchor" href="#_featureinfo_document"></a>10.6.1. FeatureInfo document</h4>
<div class="paragraph">
<p>A FeatureInfo document is the resource representation of a FeatureInfo resource in resource oriented architectural style. The FeatureInfo document SHALL be in the format specified in the request when that format has been advertised in the <strong>ServiceMetadata document</strong> as available for that FeatureInfo resource.</p>
</div>
<div class="paragraph">
<p>TBD recommend GeoJSON instead.</p>
</div>
<div class="paragraph">
<p>For a better interoperability between servers and clients we strongly recommend GML Simple Features Profile [06-049r1] as a supported document format for FeatureInfo resources. That standard defines three levels of content in three profiles with different degrees of constraints to the GML flexibility. We strongly recommend support of the most constrained one (level 0) that results in a simpler GML document. In the context of that profile only simple XML types can be used as thematic properties and cardinality greater than one is not allowed. Servers and clients SHALL specify the MIME type "application/gml+xml; version=3.1" as an InfoFormat value and the GML application schema of the response SHOULD conform to GML Simple Features profile level 0 when that GML profile is used. In most cases, only thematic attributes of the features are intended to be included in a FeatureInfo document but the Simple Feature profiles were evidently intended to include the geometric information of the features in the GML objects. However, it is possible to generate an application schema that does not include feature geometry and only describes non-geometric feature attribute types. This can be very useful to avoid unnecessarily requesting long sequences of position values in line or polygon layers.</p>
</div>
<div class="paragraph">
<p>Also, to allow easy presentation of the data, support for the HTML format (represented by an InfoFormat MIME type of "text/html") is also recommended.</p>
</div>
</div>
<div class="sect3">
<h4 id="_getresourcerepresentation"><a class="anchor" href="#_getresourcerepresentation"></a>10.6.2. GetResourceRepresentation</h4>
<div class="paragraph">
<p>The ServiceMetadata document in the resource oriented architectural style may contain a list of Layer elements and each layer that is available to be retrieved in this architectural style and is queryable SHALL have one or more &lt;ResourceURL&gt; elements with the "resourceType" attribute set to "FeatureInfo" and a template attribute. In this RESTful approach the template attribute contains a URL template that can be converted to a URL by using a template processor and then get the expected FeatureInfo in the format specified by the attribute "format" by requesting the resource with a standard HTTP GET.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/core/REQ_grr.adoc[]</p>
</div>
<div class="sect4">
<h5 id="_operation_7"><a class="anchor" href="#_operation_7"></a>Operation</h5>
<div class="paragraph">
<p>The GetResourceRepresentation request operation is defined by the following requirement:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/core/REQ_grr-op.adoc[]</p>
</div>
<div class="paragraph">
<p>An example GetResourceRepresentation request
is</p>
</div>
<div class="literalblock">
<div class="content">
<pre>http://www.maps.bob/etopo2/default/WholeWorld_CRS_84/10m/1/3/86/132.xml</pre>
</div>
</div>
<div class="paragraph">
<p>It corresponds to the following ResourceURL element: &lt;ResourceURL format="application/gml+xml; version=3.1" resourceType="FeatureInfo" template="http://www.maps.bob/etopo2/default/ {TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}/{J}/{I}.xml"</p>
</div>
</div>
<div class="sect4">
<h5 id="_response_14"><a class="anchor" href="#_response_14"></a>Response</h5>
<div class="paragraph">
<p>A successful GetResourceRepresentation response is defined by the following requirement:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/core/REQ_grr-success.adoc[]</p>
</div>
<div class="paragraph">
<p>An XML document conforming GML Simple Features Profile [06-049r1] is the most typical representation but other representations and formats are also allowed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_error_situations_3"><a class="anchor" href="#_error_situations_3"></a>Error situations</h5>
<div class="paragraph">
<p>An unsuccessful GetResourceRepresentation reponse follows the general guidance for HTTP status codes provided in <a href="#http_status_codes">[http_status_codes]</a> and the following requirement:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_7_tile_info.adoc - include::requirements/core/REQ_grr-error.adoc[]</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_tiles_multitiles"><a class="anchor" href="#_requirement_class_tiles_multitiles"></a>11. Requirement Class "Tiles Multitiles"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_6"><a class="anchor" href="#_overview_6"></a>11.1. Overview</h3>
<table id="rc_tiles-multitiles" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In this extension, we define a mechanism to request more than one tile from a single collection in a single request. The result can be a document listing the needed tiles to cover bounding box or a package with all tiles inside.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_5"><a class="anchor" href="#_declaration_of_conformance_classes_5"></a>11.2. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_15"><a class="anchor" href="#_response_15"></a>11.2.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_tiles_multitiles_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 24</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of generating tiles from multiple collections adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 15. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tiles_description_3"><a class="anchor" href="#_tiles_description_3"></a>11.3. Tiles description</h3>
<div class="paragraph">
<p>The response of this operation contains the necessary information to later formulate a tile or a multitile request for a collection.</p>
</div>
<div class="sect3">
<h4 id="_response_16"><a class="anchor" href="#_response_16"></a>11.3.1. Response</h4>
<div class="paragraph">
<p>A successful response of a tiles request for a collection that can be retrieved as tiles will respond with a data structure with specific information necessary to get tiles or map-tiles representing the resource collection. In this extension, adds the URL template to a multitile.</p>
</div>
<table id="req_tiles_multitiles_mtc-multitiles-examples" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 25</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-multitiles-examples</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of the response of a successful execution SHALL include at least a link to a multitiles URI template (relation: <code>multitiles</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>These links SHALL provide a URL template with the fragment <code>/tiles</code> followed by the variables {tileMatrixSetId}. Once the variables are substituted by their respective valid values, a URL to a multitiles is obtained.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>There SHALL be a link to a multitile URI template for each format that the server supports (the format is indicates in the <code>type</code> attribute of the link)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>One common order used in URL templates for tiles is &#8230;&#8203;/tiles/{tileMatrixSetId} this standard allows for other URL template dispositions.</p>
</div>
<table id="URL_template_multitile" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. URI template variables for tiles and possible values</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 21.2121%;">
<col style="width: 42.4242%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URL template variable</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Meaning</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Possible values</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileMatrixSetId</th>
</tr>
</thead>
</table>
<div class="exampleblock">
<div class="title">Example 16. API tiles response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>links:
[
    {
      &quot;href&quot;: &quot;http://data.example.com/collections/buildings/tiles/{tileMatrixSetId}&quot;,
      &quot;rel&quot;: &quot;multitiles&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
    }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_tiles_from_one_collection"><a class="anchor" href="#_multiple_tiles_from_one_collection"></a>11.4. Multiple tiles from one collection</h3>
<div class="paragraph">
<p>This extension provides a mechanism to select and retrieve a set of tiles at once following a TileMatrixSet.</p>
</div>
<div class="sect3">
<h4 id="_operation_8"><a class="anchor" href="#_operation_8"></a>11.4.1. Operation</h4>
<table id="req_tiles_multitiles_mtc-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 26</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Tiles SHALL be available as HTTP GET requests to a URI that will be composed by two parts: a initial part is the URI of a resource that can be represented as tiles and the final part follows the pattern /tiles/{tileMatrixSetId}</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the resources or collections that advertise one of more links with type=tiles SHALL be requested as multiple tiles.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Typical resources that can be retrieved as tiles are: features (/collections/{collectionId}), coverages (/collections/{collectionId}/coverages/{coverageId} or /coverages/{coverageId}) or maps (/collections/{collectionId}/map/styleId}).</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_tilematrixsetid_3"><a class="anchor" href="#_parameter_tilematrixsetid_3"></a>11.4.2. Parameter tileMatrixSetId</h4>
<table id="req_tiles_multiltiles_mtc-tilematrixsetid-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 27</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-tilematrixsetid-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>tileMatrixSetId</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: tileMatrixSetId
  in: path
  description: Identifier of a specific tiling scheme. It can be one of the specified in Annex D.1 of the OGC 17-083r2 standard or one defined in this service.
  required: true
  schema:
    type: string
  example: WebMercatorQuad</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_bbox"><a class="anchor" href="#_parameter_bbox"></a>11.4.3. Parameter bbox</h4>
<table id="req_tiles_multiltiles_mtc-bbox-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 28</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-bbox-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>bbox</code> to filter the area where tiles will be retrieved with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>    name: bbox
    in: query
    description:
      &#39;Only elements that have a geometry that intersects the bounding box are selected.
      The bounding box is provided as four or six numbers, depending on whether the coordinate reference system includes a vertical axis (elevation or depth):

      * Lower left corner, coordinate axis 1
      * Lower left corner, coordinate axis 2
      * Lower left corner, coordinate axis 3 (optional)
      * Upper right corner, coordinate axis 1
      * Upper right corner, coordinate axis 2
      * Upper right corner, coordinate axis 3 (optional)

      The coordinate reference system of the values is WGS 84 longitude/latitude
      (http://www.opengis.net/def/crs/OGC/1.3/CRS84) unless a different coordinate reference system is specified by another parameter in the API (e.g `bbox-crs`).&#39;
    required: false
    schema:
      type: array
      minItems: 4
      maxItems: 6
      items:
        type: number
        format: double
    style: form
    explode: false</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A TileMatrixSet definition points to a CRS. The coordinates of the bbox SHALL be in the CRS of specified in the definition of the the TileMatrixSet identified by the tileMatrixSetId</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameter is not specified, the server SHALL assume the whole extent of the tiles are requested.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This definition in inherited from OGC API Common.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_scaledenominator"><a class="anchor" href="#_parameter_scaledenominator"></a>11.4.4. Parameter scaleDenominator</h4>
<table id="req_tiles_multiltiles_mtc-scaledenominator-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 29</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-scaledenominator-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>scaleDenominator</code> to filter the scales where tiles will be retrieved with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: scaleDenominator
   in: query
   description:
      A range of scale denominators (that can be used to generate a list of tileMatrix names).
   required: false
   style: form
   explode: false
   schema:
     type: array
     minItems: 2
     maxItems: 2
     items:
       type: number
       format: double</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameter is not specified, the server SHALL assume all TileMatrices (scales) SHALL be returned.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_tiles_multiltiles_mtc-scaledenominator-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/tiles/multitiles/mtc-scaledenominator-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>To prevent mistakes identifying the scale denominator due to precision issues caused by lack of significant digits, the client should apply a tolerance to intervals. If the client wants to specify a single scale denominator, it will use an small interval with enough tolerance.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_multitiletype"><a class="anchor" href="#_parameter_multitiletype"></a>11.4.5. Parameter multiTileType</h4>
<table id="req_tiles_multiltiles_mtc-multitiletype-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 30</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-multitiletype-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>multitileType</code> that determines the type of the response and with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: multiTileType
  in: query
  description:
    &#39;When successful, the service will respond to a query in one of two ways. It can provide a file with links to each tile or or it will provide the tiles in a package. The package can still contain the description of each tile

    The allowed values for this parameter are `url`, `tiles` and `full`.&#39;
  style: form
  schema:
    type: string
    default: tiles
    enum:
      - url
      - tiles
      - full
  example: full</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>multiTileType</code> parameter is set to <code>url</code> the server SHALL return a list of the selected tiles in a format following the <code>tileSet</code> schema. Each tile description in the list will contain a URL to download the tile later.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>multiTileType</code> parameter is set to <code>tiles</code>  or if the parameter is not specified in the request, the server SHALL return a package (e.g. a ZIP file) that will include tiles as separated parts in the package.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>multiTileType</code> parameter is set to <code>full</code> the server SHALL return the tiles and a list of the selected tiles (in a format following the <code>tileSet</code> schema) as part of a package.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_tiles_multiltiles_mtc-multitiletype-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/tiles/multitiles/mtc-multitiletype-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server MAY only implement a subset of the enumerated values (url, tiles, full) for the parameter <code>multitileType</code> and in this case it will only enumerate this subset in its schema.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_formats"><a class="anchor" href="#_formats"></a>11.4.6. Formats</h4>
<div class="paragraph">
<p>In the cases of the multitile response, there are two formats involved. The multitile itself can be returned as a package (e.g. a zip file) that contains the tiles inside. The individual tiles also has its format. The format of the multitile if governed by the format procedure specified in the OGC API common. When the server supports multiple encoding for the individual tiles and the client has a preference for the tiles format, there is a need for communicating this preference to the server. This document does not mandate any particular approach how this is supported but provides the following recommendation.</p>
</div>
<table id="rec_tiles_multiltiles_mtc-f-tile-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/tiles/multitiles/mtc-f-tile-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>When the web interaction allows for HTTP format negotiation <code>Accept:</code> header is preferable to specify the required formats. In the case of multitype a composed format is recommended following the pattern application/vnd.ogc.multipart;container={multitile-media-type};tiles={tile-media-type}} (example: application/vnd.ogc.multipart;container=application/x-zip-compressed;tiles=image/png)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>When the web interaction does not allow for controlling the HTTP format negotiation (e.g. URL in a HTML link), the operation MAY support an optional a parameter <code>f-tile</code> to specify the tile media type that the client prefers and a parameter <code>f</code> for the media type of the multitile response.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of these parameters should be specified by the server instance as an enumeration of supported media types in the API description.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_17"><a class="anchor" href="#_response_17"></a>11.4.7. Response</h4>
<div class="paragraph">
<p>A successful response of a set of tiles will be consistent with the media type of resource requested.</p>
</div>
<table id="req_tiles_multitiles_mtc-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 31</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtc-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be consistent with the format requested and be inside or intersect with the spatial extent of the geographical area represented by the 'bbox' and <code>scaleDenominator</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If list of the tiles has been requested, the content of that response SHALL contain a tileSet document be based upon the following OpenAPI 3.0 schema:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  tileSet:
    description: This is the response for a multiple tiles request.
    type: object
    required: tileSet
    properties:
      tileSet:
        type: array
        items:
          $ref: &#39;#/components/schemas/tileSetEntry&#39;
  tileSetEntry:
    description:
      This is an entry on a multiple tiles request.
    type: object
    required:
      - tileURL
      - tileMatrix
      - tileRow
      - tileCol
    properties:
      tileURL:
        type: string
        format: uri
      tileMatrix:
        type: string
      tileRow:
        type: number
      tileCol:
        type: number
      width:
        type: number
        description:
          The width of the tile in rendering device pixels. If it exceeds the visual display area be should cut when displayed
      height:
        type: number
        description:
          The height of the tile in rendering device pixels. If it exceeds the visual display area be should cut when displayed
      top:
        type: number
        description:
          Vertical position from the top of the visual display area in pixels. Negative value means that the left side of the tile is outside the top-left corner of the display and should be cut when displayed
      left:
        type: number
        description:
          Horizontal position from the left of the visual display area in pixels. Negative value means that the left side of the tile is outside the top-left corner of the display and should be cut when displayed</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>When a package is being returned and the package format supports expressing file paths of its parts (such as the ZIP file), each tile in the package SHALL have a path following the template: <code>{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}.{file-extension}</code>. {file-extension} is the file extension that corresponds to the media type (e.g "jpg" for image/jpeg).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Mainly this extension suggests 3 possible alternatives for a multitile response being the last one (<code>full</code>) the combination of the first two (<code>url</code> and <code>package</code>).</p>
</div>
<div class="sect4">
<h5 id="_list_response"><a class="anchor" href="#_list_response"></a>List Response</h5>
<div class="paragraph">
<p>This format assumes that the client has viewport to represent an geographic area defined by the bounding box and the scale (that defines the pixel size of the viewport). This area should be populated with tiles. The server is expected to enumerate the tiles needed to populate the viewport and optionally to provide information on how to position the tiles in the viewport.</p>
</div>
<div class="paragraph">
<p>In the following example, we assume that the bounding box and scale provided implies a viewport of 336x446 pixels. The viewport it covered by 4 tiles. The client has requested a <code>url</code> type of multitile and negociated a JSON format. The URL of each tile is provided, accompanied with information on the position of the top left corner of each one in the viewport.</p>
</div>
<div id="ListResponseMultitile" class="exampleblock">
<div class="title">Example 17. Example of a tileSet document</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;tileSet&quot;: [
    {
      &quot;tileURL&quot;: &quot;http://data.example.com/collections/buildings/tiles/WebMercatorQuad/2/0/0.png&quot;,
      &quot;tileMatrix&quot;: 0,
      &quot;tileRow&quot;: 0,
      &quot;tileCol&quot;: 0,
      &quot;width&quot;: 256,
      &quot;height&quot;: 256,
      &quot;top&quot;: -10,
      &quot;left&quot;: -20
    },
    {
      &quot;tileURL&quot;: &quot;http://data.example.com/collections/buildings/tiles/WebMercatorQuad/2/0/1.png&quot;,
      &quot;tileMatrix&quot;: 0,
      &quot;tileRow&quot;: 0,
      &quot;tileCol&quot;: 1,
      &quot;width&quot;: 100,
      &quot;height&quot;: 256,
      &quot;top&quot;: -10,
      &quot;left&quot;: 236
    },
    {
      &quot;tileURL&quot;: &quot;http://data.example.com/collections/buildings/tiles/WebMercatorQuad/2/1/0.png&quot;,
      &quot;tileMatrix&quot;: 0,
      &quot;tileRow&quot;: 1,
      &quot;tileCol&quot;: 0,
      &quot;width&quot;: 256,
      &quot;height&quot;: 200,
      &quot;top&quot;: 246,
      &quot;left&quot;: -20
    },
    {
      &quot;tileURL&quot;: &quot;http://data.example.com/collections/buildings/tiles/WebMercatorQuad/2/1/1.png&quot;,
      &quot;tileMatrix&quot;: 0,
      &quot;tileRow&quot;: 1,
      &quot;tileCol&quot;: 1,
      &quot;width&quot;: 100,
      &quot;height&quot;: 200,
      &quot;top&quot;: 246,
      &quot;left&quot;: 236
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_package_response"><a class="anchor" href="#_package_response"></a>Package Response</h5>
<div class="paragraph">
<p>This format assumes that the client is interested in the tiles that cover a geographic area defined by the bounding box and the scale (or scales). The client knows what to do with the tiles and it is able to identify the tiles by their path using the URI template of the server as a pattern to extract the TileMatrix, TileRow and TileCol of each one.</p>
</div>
<div class="paragraph">
<p>Assuming that the client has requested a scale that fits with TileMatrix "2" and a bounding box that requires 2x2 tiles and that he client has requested a <code>package</code> type of multitile and negociated a ZIP format, a ZIP file is produced and sent by the server with the following files and paths:</p>
</div>
<table id="PackageResponseMultitile" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Content of a package containing 4 tiles</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 45%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">File</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Path</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileMatrix</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileRow</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileCol</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.png</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WebMercatorQuad/2/0</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.png</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WebMercatorQuad/2/0</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.png</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WebMercatorQuad/2/1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.png</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WebMercatorQuad/2/1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_error_situations_4"><a class="anchor" href="#_error_situations_4"></a>11.4.8. Error situations</h4>
<div class="paragraph">
<p>A general summary of the HTTP status codes can be found in OWS Common.</p>
</div>
<div class="paragraph">
<p>If the parameter value <code>tileMatrixSetId</code> is not available by the server for this resource or the parameters values <code>bbox</code> or <code>scaleDenominator</code> are out-of-range, the status code of the response will be 404.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_tiles_collections_multitiles"><a class="anchor" href="#_requirement_class_tiles_collections_multitiles"></a>12. Requirement Class "Tiles Collections Multitiles"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_7"><a class="anchor" href="#_overview_7"></a>12.1. Overview</h3>
<table id="rc_tiles-cols-multitiles" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In this extension, we define a mechanism to request more than one tile from more than one collection in a single request. The result can be a document listing the needed tiles to cover bounding box or a package with all tiles inside. This section shares most of the content with the previous one and intents to provide similar mechanism. The main difference is the capability to request tiles that include elements of multiple collections provided by the parameter 'collections'.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_4"><a class="anchor" href="#_api_landing_page_4"></a>12.2. API landing page</h3>
<div class="paragraph">
<p>The landing page provides links to start exploring the resources offered by the API. It mainly consists in a list of links. The core of this standard does not add anything to the links required by OWS Common. The collections extension requires new link for the description of the tiles from more than one collection on top of the common ones that is inherited and needed by this extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_6"><a class="anchor" href="#_declaration_of_conformance_classes_6"></a>12.3. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_18"><a class="anchor" href="#_response_18"></a>12.3.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_tiles_cols-multitiles_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 32</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/cols-multitiles/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of generating tiles from multiple collections adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 18. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/collections&quot;
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tiles_description_4"><a class="anchor" href="#_tiles_description_4"></a>12.4. Tiles description</h3>
<div class="paragraph">
<p>The response of this operation contains the necessary information to later formulate a tile request from more than one collection as described in the <code>collections</code> extension. This extension add an extra link for the multitiles</p>
</div>
<div class="sect3">
<h4 id="_response_19"><a class="anchor" href="#_response_19"></a>12.4.1. Response</h4>
<div class="paragraph">
<p>A successful response of a tiles request for more than on collection will respond with a data structure with specific information necessary to get tiles representing the resource collection. In this extension, the response informs about the URL template to retrieve multitiles.</p>
</div>
<table id="req_tiles_cols-multitiles_mtcs-multitiles-examples" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 33</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/cols-multitiles/mtcs-multitiles-examples</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of the response of a successful execution SHALL include at least a link to a multitiles from multiple collections URI template (relation: <code>multitiles</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>These links SHALL provide a URL template with the fragment <code>/tiles</code> followed by the variables {tileMatrixSetId}. Once the variables are substituted by their respective valid values, a URL to a multitiles is obtained.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>There SHALL be a link to a multitile URI template for each format that the server supports (the format is indicates in the <code>type</code> attribute of the link)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>One common order used in URL templates for tiles is &#8230;&#8203;/tiles/{tileMatrixSetId}, but this standard allows for other URL template dispositions.</p>
</div>
<table id="URL_template_tile" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. URI template variables for tiles and possible values</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 21.2121%;">
<col style="width: 42.4242%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URL template variable</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Meaning</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Possible values</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">TileMatrixSetId</th>
</tr>
</thead>
</table>
<div class="exampleblock">
<div class="title">Example 19. API tiles response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>links:
[
    {
      &quot;href&quot;: &quot;http://data.example.com/tiles/{tileMatrixSetId}&quot;,
      &quot;rel&quot;: &quot;tiles&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
    }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_tiles_from_more_than_one_collection"><a class="anchor" href="#_multiple_tiles_from_more_than_one_collection"></a>12.5. Multiple tiles from more than one collection</h3>
<div class="paragraph">
<p>This extension provides a mechanism to select and retrieve a set of tiles at once from a TileMatrixSet.</p>
</div>
<div class="sect3">
<h4 id="_operation_9"><a class="anchor" href="#_operation_9"></a>12.5.1. Operation</h4>
<table id="req_tiles_multitiles_mtcs-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 34</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtcs-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Tiles SHALL be available as HTTP GET requests to a URI that will be composed by two parts: a initial part is the URI of a resource that can be represented as tiles and the final part follows the pattern /tiles/{tileMatrixSetId}</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the resources or collections that advertise one of more links with type=tiles SHALL be requested as multiple tiles.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_tilematrixsetid_4"><a class="anchor" href="#_parameter_tilematrixsetid_4"></a>12.5.2. Parameter tileMatrixSetId</h4>
<table id="req_tiles_multiltiles_mtcs-tilematrixsetid-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 35</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtcs-tilematrixsetid-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>tileMatrixSetId</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: tileMatrixSetId
  in: path
  description: Identifier of a specific tiling scheme. It can be one of the specified in Annex D.1 of the OGC 17-083r2 standard or one defined in this service.
  required: true
  schema:
    type: string
  example: WebMercatorQuad</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_bbox_2"><a class="anchor" href="#_parameter_bbox_2"></a>12.5.3. Parameter bbox</h4>
<table id="req_tiles_multiltiles_mtcs-bbox-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 36</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtcs-bbox-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>bbox</code> to filter the area where tiles will be retrieved with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>    name: bbox
    in: query
    description:
      &#39;Only elements that have a geometry that intersects the bounding box are selected.
      The bounding box is provided as four or six numbers, depending on whether the coordinate reference system includes a vertical axis (elevation or depth):

      * Lower left corner, coordinate axis 1
      * Lower left corner, coordinate axis 2
      * Lower left corner, coordinate axis 3 (optional)
      * Upper right corner, coordinate axis 1
      * Upper right corner, coordinate axis 2
      * Upper right corner, coordinate axis 3 (optional)

      The coordinate reference system of the values is WGS 84 longitude/latitude
      (http://www.opengis.net/def/crs/OGC/1.3/CRS84) unless a different coordinate reference system is specified by another parameter in the API (e.g `bbox-crs`).&#39;
    required: false
    schema:
      type: array
      minItems: 4
      maxItems: 6
      items:
        type: number
        format: double
    style: form
    explode: false</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A TileMatrixSet definition points to a CRS. The coordinates of the bbox SHALL be in the CRS of specified in the definition of the the TileMatrixSet identified by the tileMatrixSetId</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameter is not specified, the server SHALL assume the whole extent of the tiles are requested.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This definition in inherited from OGC API Common.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_scaledenominator_2"><a class="anchor" href="#_parameter_scaledenominator_2"></a>12.5.4. Parameter scaleDenominator</h4>
<table id="req_tiles_multiltiles_mtcs-scaledenominator-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 37</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtcs-scaledenominator-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>scaleDenominator</code> to filter the scales where tiles will be retrieved with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: scaleDenominator
   in: query
   description:
      &#39;A range of scale denominators (that can be used to generate a list of tileMatrix names).&#39;
   required: false
   style: form
   explode: false
   schema:
     type: array
     minItems: 2
     maxItems: 2
     items:
       type: number
       format: double</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameter is not specified, the server SHALL assume all TileMatrices (scales) SHALL be returned.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_tiles_multiltiles_mtcs-scaledenominator-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/tiles/multitiles/mtcs-scaledenominator-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>To prevent mistakes identifying the scale denominator due to precision issues caused by lack of significant digits, the client should apply a tolerance to intervals. If the client wants to specify a single scale denominator, it will use an small interval with enough tolerance.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_multitiletype_2"><a class="anchor" href="#_parameter_multitiletype_2"></a>12.5.5. Parameter multiTileType</h4>
<table id="req_tiles_multiltiles_mtcs-multitiletype-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 38</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/multitiles/mtcs-multitiletype-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>multitileType</code> that determines the type of the response and with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: multiTileType
  in: query
  description:
    &#39;When successful, the service will respond to a query in one of two ways. It can provide a file with links to each tile or or it will provide the tiles in a package. The package can still contain the description of each tile

    The allowed values for this parameter are `url`, `tiles` and `full`.&#39;
  style: form
  schema:
    type: string
    default: tiles
    enum:
      - url
      - tiles
      - full
  example: full</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>multiTileType</code> parameter is set to <code>url</code> the server SHALL return a list of the selected tiles in a format following the <code>tileSet</code> schema. Each tile description in the list will contain a URL to download the tile later.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>multiTileType</code> parameter is set to <code>tiles</code>  or if the parameter is not specified in the request, the server SHALL return a package (e.g. a ZIP file) that will include tiles as separated parts in the package.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>multiTileType</code> parameter is set to <code>full</code> the server SHALL return the tiles and a list of the selected tiles (in a format following the <code>tileSet</code> schema) as part of a package.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_tiles_multiltiles_mtcs-multitiletype-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/tiles/multitiles/mtcs-multitiletype-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server MAY only implement a subset of the enumerated values (url, tiles, full) for the parameter <code>multitileType</code> and in this case it will only enumerate this subset in its schema.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_collections_2"><a class="anchor" href="#_parameter_collections_2"></a>12.5.6. Parameter Collections</h4>
<table id="req_tiles_collections_mtcs-collections-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 39</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/collections/mtcs-collections-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>collections</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: collections
  in: query
  required: false
  style: form
  explode: false
  schema:
    type: array
    items:
      type: string</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>collections</code> SHALL contain a comma-separated list of collection identifiers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the collections that advertise a link type=tiles in the /collections/{collectionId} SHALL be included.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the collections that support the same TileMatrixSetId parameter value SHALL be included</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>collections</code> is missing, all collections supporting the TileMatrixSetId parameter value will be considered.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_formats_2"><a class="anchor" href="#_formats_2"></a>12.5.7. Formats</h4>
<div class="paragraph">
<p>In the cases of the multitile response, there are two formats involved. The multitile itself can be returned as a package (e.g. a zip file) that contains the tiles inside. The individual tiles also has its format. The format of the multitile if governed by the format procedure specified in the OGC API common. When the server supports multiple encoding for the individual tiles and the client has a preference for the tiles format, there is a need for communicating this preference to the server. This document does not mandate any particular approach how this is supported but provides the following recommendation.</p>
</div>
<table id="rec_tiles_multiltiles_mtcs-f-tile-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/tiles/multitiles/mtcs-f-tile-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation MAY support an optional a parameter <code>f-tile</code> to specify the tile format that the client prefers as parts of the multitile response.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of this parameter should be specified by the server instance as an enumeration of supported media types.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_20"><a class="anchor" href="#_response_20"></a>12.5.8. Response</h4>
<div class="paragraph">
<p>A successful response of a set of tiles will be consistent with the media type of resource requested. This standard does not impose any media type but suggest the use of a package format.</p>
</div>
<table id="req_tiles_cols-multitiles_mtcs-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 40</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/cols-multitiles/mtcs-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be consistent with the format requested and be inside or intersect with the spatial extent of the geographical area represented by the 'bbox' and <code>scaleDenominator</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If list of the tiles has been requested, the content of that response SHALL contain a tileSet document be based upon the following OpenAPI 3.0 schema:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  tileSet:
    description: This is the response for a multiple tiles request.
    type: object
    required: tileSet
    properties:
      tileSet:
        type: array
        items:
          $ref: &#39;#/components/schemas/tileSetEntry&#39;
  tileSetEntry:
    description:
      This is an entry on a multiple tiles request.
    type: object
    required:
      - tileURL
      - tileMatrix
      - tileRow
      - tileCol
    properties:
      tileURL:
        type: string
        format: uri
      tileMatrix:
        type: string
      tileRow:
        type: number
      tileCol:
        type: number
      width:
        type: number
        description:
          The width of the tile in rendering device pixels. If it exceeds the visual display area be should cut when displayed
      height:
        type: number
        description:
          The height of the tile in rendering device pixels. If it exceeds the visual display area be should cut when displayed
      top:
        type: number
        description:
          Vertical position from the top of the visual display area in pixels. Negative value means that the left side of the tile is outside the top-left corner of the display and should be cut when displayed
      left:
        type: number
        description:
          Horizontal position from the left of the visual display area in pixels. Negative value means that the left side of the tile is outside the top-left corner of the display and should be cut when displayed</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>When a package is being returned and the package format supports expressing file paths of its parts (such as the ZIP file), each tile in the package SHALL have a path following the template: <code>{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}.{file-extension}</code>. {file-extension} is the file extension that corresponds to the media type (e.g "jpg" for image/jpeg).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_error_situations_5"><a class="anchor" href="#_error_situations_5"></a>12.5.9. Error situations</h4>
<div class="paragraph">
<p>A general summary of the HTTP status codes can be found in OWS Common.</p>
</div>
<div class="paragraph">
<p>If the parameter value <code>tileMatrixSetId</code> is not available by the server for this resource or the parameters values <code>bbox</code> or <code>scaleDenominator</code> are out-of-range, the status code of the response will be 404.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_map_core"><a class="anchor" href="#_requirement_class_map_core"></a>13. Requirement Class "Map Core"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_8"><a class="anchor" href="#_overview_8"></a>13.1. Overview</h3>
<table id="rc_maps-core" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2818">RFC 2818 (HTTP over TLS)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc3339">RFC 3339 (Date and Time on the Internet: Timestamps)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc8288">RFC 8288 (Web Linking)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A map distribution of a dataset as a pictorial representation of a dataset or the collections it has been divided in. To create a pictorial representation a style is added to the collections. Then, a map can be retrieved by specifying a set of parameters that will determine its resolution (width, height, boundingbox and CRS) or can be retrieved as tiles.</p>
</div>
<div class="paragraph">
<p>This clause defines the core part of the OGC API Maps that allows defining a map representation of a collection. To retrieve a fragment of the map, this clause need to be combined with a tiles extension or a map extension.</p>
</div>
<div class="paragraph">
<p>To keep the core simple, it will introduce a mechanism to select the default style but it will not introduce any mechanism to define or select other styles. The core only assumes that the service is capable of dealing with a default style.</p>
</div>
</div>
<div class="sect2">
<h3 id="_general_2"><a class="anchor" href="#_general_2"></a>13.2. General</h3>
<table id="req_maps_core_api-common" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 41</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/core/api-common</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The OGC API SHALL comply with the requirements specified in the <a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/core" class="bare">http://www.opengis.net/spec/OAPI_Common/1.0/req/core</a> and collections Requirements Classes of the OGC API-Common version 1.0 Standard.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In practice, this means that the landing page and the conformance page follows OGC API Common core and collections requirements (STILL TBD but mostly equivalent to the more general parts of WFS3.0 requirements but with the text generalized to other resource types). This standard provides extra additions to the OWS common requirements that are particular to maps.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_5"><a class="anchor" href="#_api_landing_page_5"></a>13.3. API landing page</h3>
<div class="paragraph">
<p>The landing page provides links to start exploring the resources offered by the API. It mainly consists in a list of links. OWS Common already requires some common links that are enough for this core.</p>
</div>
<div class="sect3">
<h4 id="_response_21"><a class="anchor" href="#_response_21"></a>13.3.1. Response</h4>
<div class="paragraph">
<p>No variations are required in the landing page.
With a /collections successful response it is possible to retrieve the list of collectionId and links to the /collections/{collectionId}.
With a /collections/{collectionId} successful response, it is possible to discover the links to retrieve some maps.
Note that other resources can also be retrieved as collections (e.g. coverages)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_7"><a class="anchor" href="#_declaration_of_conformance_classes_7"></a>13.4. Declaration of conformance classes</h3>
<div class="paragraph">
<p>To support "generic" clients that want to access multiple OGC API standards and extensions - and not "just" a specific API / server, the API has to declare the requirements classes it implements and conforms to.</p>
</div>
<div class="sect3">
<h4 id="_response_22"><a class="anchor" href="#_response_22"></a>13.4.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_maps_core_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 42</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/core/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the maps core conformance class as links to <a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API maps conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 20. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
  [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collections_2"><a class="anchor" href="#_collections_2"></a>13.5. Collections</h3>
<div class="paragraph">
<p>TBD: What will happen with collections of coverages?</p>
</div>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collections. Collections are mandatory in the core of this standard because collections are the object that will be included in a map.</p>
</div>
<div class="paragraph">
<p>Collections will enumerate the collectionId available in this API as well as basic information about each collectionId: id, title, description, extent, crs and links. This common response is considered enough for a general
description of the collection.</p>
</div>
<table id="req_tiles_core_mc-md-collection-links" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 43</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/tiles/core/mc-md-collection-links</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each collection included in the response, a <code>links</code> property of the collection SHALL include a link to the description of the collection (relation: <code>item</code>) (in addition to other links specified in OGC API Commons).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>More specific details about the collection can be found following the link to the individual collections that follow the pattern /collections/{collectionId}</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The collectionId substitutes the concept of "layer" in WMS.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_maps_description_resource"><a class="anchor" href="#_maps_description_resource"></a>13.6. Maps description resource</h3>
<div class="paragraph">
<p>The maps core defines a <code>maps</code> resource that is associated to an operation contains the necessary information to later formulate a map request for a collection. Nevertheless, the core does not require an information mandatory since the map core alone does not specify how to retrieve a map. It is not possible to exemplify completely how this maps description looks like without considering other extensions.</p>
</div>
<div class="sect3">
<h4 id="_map_description_response"><a class="anchor" href="#_map_description_response"></a>13.6.1. Map description response</h4>
<div class="paragraph">
<p>This core does not mandate a map description operation. Nevertheless, if it is defined by an extension, it introduces the need to have a specific properties.</p>
</div>
<div class="paragraph">
<p>In here, two properties inherit from WMS that are recommended here: cascade and opaque.</p>
</div>
<table id="rec_maps_core-smc-opaque" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/maps/core/smc-opaque</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server may include a boolean property in the maps description response that contains a boolean property <code>opaque</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>false means that map data represents vector features that probably do not
completely fill space. true means map data are mostly or completely opaque.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the property is not provided, it should be interpreted as false (the default value)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_maps_core-smc-cascaded" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/maps/core/smc-cascaded</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server may include a numeric property in the map description response with the name <code>cascaded</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>0 means that the collection maps have not been retransmitted another map service or API. A positive number indicates how many times the collection map has been retransmitted.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the property is not provided, it should be interpreted as 0 (the default value)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_maps"><a class="anchor" href="#_maps"></a>13.7. Maps</h3>
<table id="req_maps_core_mc-map-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 44</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/core/mc-map-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Every map SHALL be available as a HTTP GET request to a URI that will be composed by three parts: a initial part is the URI of a resource that can be represented as a map, a middle part following the pattern /map/{styleId} and a final part completing the retrieve parameters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the resources or collection that advertise one of more links following the pattern &#8230;&#8203;/map/{styleId}&#8230;&#8203; can be retrieved as maps.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_parameter_styleid"><a class="anchor" href="#_parameter_styleid"></a>13.7.1. Parameter styleId</h4>
<table id="req_maps_core_mc-styleId-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 45</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/core/mc-styleId-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>styleId</code> with the characteristics defined (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>   name: styleId
     in: path
     description:
       &#39;The styleId that should be included in the map or tile. Each collectionId has a valid list of stylesId. To know the valid styleId values of each collectionId use /collections/{collectionId}.&#39;
     required: true
     schema:
       type: string</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A map SHALL be available with <code>default</code> as <code>styleId</code> value. It is up to the server to decide which is the default style. Other values might be defined in extensions</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_map_styles"><a class="anchor" href="#_requirement_class_map_styles"></a>14. Requirement Class "Map Styles"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_9"><a class="anchor" href="#_overview_9"></a>14.1. Overview</h3>
<table id="rc_maps-styles" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The maps core introduces the possibility to create a map by assigning an style to a resource (e.g. a collectionId) but does not specify how to declare the styles supported by each collection. The core is only capable to request the default style and the client does not know anything about it. This extension discusses about the possibility to declare style names that can be used to request maps. It is foreseen that a OGC API Styles will allow to retrieve the full information about the style or to send styles to the server.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_8"><a class="anchor" href="#_declaration_of_conformance_classes_8"></a>14.2. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_23"><a class="anchor" href="#_response_23"></a>14.2.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_maps_styles_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 46</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/styles/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of declaring styles by adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 21. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collection_4"><a class="anchor" href="#_collection_4"></a>14.3. Collection</h3>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collection. The response of the operation is extended with the necessary information to formulate a map response for this collection.</p>
</div>
<div class="sect3">
<h4 id="_collection_links_3"><a class="anchor" href="#_collection_links_3"></a>14.3.1. Collection Links</h4>
<table id="req_maps_styles_smc-map-examples" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/styles/smc-map-examples</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the collection can be represented as maps, a <code>200</code>-response SHALL include at least a link to an example of map URI for each style. This example can be a distribution of the map as tiles or as maps.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The link SHALL follow and illustrate the result of applying the &#8230;&#8203;/map/{styleId}&#8230;&#8203; pattern</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In practice, since the map core alone does not specify how to retrieve a map, it is not possible to exemplify completely how the link looks like without considering other extensions. If the server also conforms to an extension to distribute the map as maps, the example will look like this.</p>
</div>
<div class="exampleblock">
<div class="title">Example 22. API collection response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>links:
[
    {
      &quot;href&quot;: &quot;http://data.example.com/collections/buildings/map/brown&quot;,
      &quot;rel&quot;: &quot;maps&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
    }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_collection_extra_properties_3"><a class="anchor" href="#_collection_extra_properties_3"></a>14.3.2. Collection extra properties</h4>
<div class="paragraph">
<p>This extension describes how to provide a list of styles in the collection description.</p>
</div>
<table id="req_maps_styles_smc-styles" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 47</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/styles/smc-styles</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution SHALL contain a property called <em>styles</em> that enumerates a list of the styles available for the collection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each style in <em>sytles</em> is an object that SHALL conform with the following data mode (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  type: object
  required:
    - id
  properties:
    id:
      type: string
      nullable: true
    title:
      type: string
      nullable: true
    links:
      type: array
      nullable: true
      minItems: 1
      items:
        $ref: &#39;https://api.swaggerhub.com/domains/UAB-CREAF/ogc-api-common/1.0.0#/components/schemas/link&#39;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 23. API collection response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>&quot;styles&quot;: [
  {
    &quot;id&quot;: &quot;night&quot;,
    &quot;title&quot;: &quot;Topographic night style&quot;,
    &quot;links&quot;: [
      {
        &quot;href&quot;: &quot;https://example.com/api/1.0/styles/night?f=sld10&quot;,
        &quot;type&quot;: &quot;application/vnd.ogc.sld+xml;version=1.0&quot;,
        &quot;rel&quot;: &quot;stylesheet&quot;
      },
      {
        &quot;href&quot;: &quot;https://example.com/api/1.0/styles/night/metadata?f=json&quot;,
        &quot;type&quot;: &quot;application/json&quot;,
        &quot;rel&quot;: &quot;describedBy&quot;
      }
    ]
  },
  {
    &quot;id&quot;: &quot;topographic&quot;,
    &quot;title&quot;: &quot;Regular topographic style&quot;,
    &quot;links&quot;: [
      {
        &quot;href&quot;: &quot;https://example.com/api/1.0/styles/topographic?f=sld10&quot;,
        &quot;type&quot;: &quot;application/vnd.ogc.sld+xml;version=1.0&quot;,
        &quot;rel&quot;: &quot;stylesheet&quot;
      },
      {
        &quot;href&quot;: &quot;https://example.com/api/1.0/styles/topographic/metadata?f=json&quot;,
        &quot;type&quot;: &quot;application/json&quot;,
        &quot;rel&quot;: &quot;describedBy&quot;
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The mandatory element id can be used a a value for {styleId}.</p>
</div>
<div class="paragraph">
<p>The optional links element are useful to connect to a OGC API styles that allows to retrieve the styles description.</p>
</div>
<table id="rec_maps_styles_smc-default-style" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/maps/styles/smc-default-style</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution may contain a property called <em>defaultStyle</em> points to the default style used when {styleId} is replaced by the word <code>default</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The value of the default style SHOULD be one of the ids listed in the property <em>styles</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each style in <em>sytles</em> is an object that conforms with the following data mode (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  default-style:
    type: string
    description:</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 24. API collection response fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>  &quot;defaultStyle&quot;: &quot;topographic&quot;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maps_2"><a class="anchor" href="#_maps_2"></a>14.4. Maps</h3>
<div class="paragraph">
<p>This extension extends the map operation by adding two parameters (<code>trasnparent</code> and <code>bgcolor</code>) to the <code>styleId</code> defined in the core.</p>
</div>
<div class="sect3">
<h4 id="_parameter_styleid_2"><a class="anchor" href="#_parameter_styleid_2"></a>14.4.1. Parameter styleId</h4>
<div class="paragraph">
<p>A part from the <code>default</code> style, this extention introduces the values for the styleId that were presented in the <code>collectionId</code> definition.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_transparent"><a class="anchor" href="#_parameter_transparent"></a>14.4.2. Parameter transparent</h4>
<table id="req_maps_styles_mc-transparent-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 48</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/styles/mc-transparent-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>transparent</code> to force a transparent background with the characteristics defined (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: transparent
  in: query
  description:
    &#39;Background transparency of map (default=true).&#39;
  required: false
  style: form
  explode: false
  schema:
    type: boolean
    default: true</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>transparent</code> is not specified, the server will use <code>true</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_bgcolor"><a class="anchor" href="#_parameter_bgcolor"></a>14.4.3. Parameter bgcolor</h4>
<table id="req_maps_styles_mc-bgcolor-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 49</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/styles/mc-bgcolor-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional a parameter <code>bgcolor</code> to define a background color with the characteristics defined (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: bgcolor
  in: query
  description:
    Hexadecimal red-green-blue[-alpha] color value for the background color. If alpha is not specified a binary opacity will be used depending on the transparent parameter.
  required: false
  style: form
  explode: false
  schema:
    type: string
    default: 0xFFFFFF</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>bgcolor</code> is not specified, the server is free to choose a background color that&#8217;s appropriate for the requested style, or 0xFFFFFF (white) if no such information is available.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the client want to force an opaque color, a part from defining the appropriate background color it should ensure that the parameter <code>transparent</code> is set to <code>false</code>. For the formats that reserve a color to define transparency it still makes sense to combine background color and transparent=true with the purpose of helping the server to select a color that does not interfere with the actual values in the map.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_map_maps"><a class="anchor" href="#_requirement_class_map_maps"></a>15. Requirement Class "Map Maps"</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TBD by the WMS.SWG. Here there are some initial thoughts to be elaborated
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_overview_10"><a class="anchor" href="#_overview_10"></a>15.1. Overview</h3>
<div id="maps-maps-overview" class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/requirements_class_maps.adoc[]</p>
</div>
<div class="paragraph">
<p>This extension describes how a map can be retrieved by specifying a set of parameters that will determine its resolution (width, height, boundingbox and CRS).</p>
</div>
<div class="paragraph">
<p>The map can use the default style or it can select one of the styles available if the right extension is also added to the core.</p>
</div>
</div>
<div class="sect2">
<h3 id="_general_3"><a class="anchor" href="#_general_3"></a>15.2. General</h3>
<table id="req_maps_core_api-common" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 50</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/core/api-common</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The OGC API SHALL comply with the requirements specified in the <a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/core" class="bare">http://www.opengis.net/spec/OAPI_Common/1.0/req/core</a> and collections Requirements Classes of the OGC API-Common version 1.0 Standard.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In practice, this means that the landing page and the conformance page follows OGC API Common core requirements (STILL TBD but mostly equivalent to the more general parts of WFS3.0 requirements but with the text generalized to other resource types). This standard provides extra additions to the OWS common requirements that are particular of tiles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_6"><a class="anchor" href="#_api_landing_page_6"></a>15.3. API landing page</h3>
<div class="paragraph">
<p>The landing page provides links to start exploring the resources offered by the API. It mainly consists in a list of links. OWS Common already requires some common links that are enough for this core.</p>
</div>
<div class="sect3">
<h4 id="_response_24"><a class="anchor" href="#_response_24"></a>15.3.1. Response</h4>
<div class="paragraph">
<p>No variations are required in the landing page.
With a /collections successful response it is possible to retrieve the list of collectionId and links to the /collections/{collectionId}.
With a /collections/{collectionId} successful response, it is possible to discover the links to retrieve some maps.
Note that other resources can also be retrieved as collections (e.g. coverages)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_9"><a class="anchor" href="#_declaration_of_conformance_classes_9"></a>15.4. Declaration of conformance classes</h3>
<div class="paragraph">
<p>To support "generic" clients that want to access multiple OGC API standards and extensions - and not "just" a specific API / server, the API has to declare the requirements classes it implements and conforms to.</p>
</div>
<div class="sect3">
<h4 id="_response_25"><a class="anchor" href="#_response_25"></a>15.4.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_conformance-success.adoc[]</p>
</div>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API Maps with the maps extension conformance information page.</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 25. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
  [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/maps&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collections_3"><a class="anchor" href="#_collections_3"></a>15.5. Collections</h3>
<div class="paragraph">
<p>TBD: What will happen with collections of coverages?</p>
</div>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collections. Collections are mandatory in the core of this standard because collections are the object that will be included in a tile.</p>
</div>
<div class="paragraph">
<p>Collections will enumerate the collectionId available in this API as well as basic information about each collectionId: id, title, description, extent, crs and links. This common response is considered enough for a general
description of the collection. to retrieve more information, you should use /collections/{collectionId}</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The collectionId substitutes the concept of "layer" in WMS.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_collection_5"><a class="anchor" href="#_collection_5"></a>15.6. Collection</h3>
<div class="paragraph">
<p>This standard includes dependencies on OWS Common collection. The response of the operation is extended with a new link for the maps description.</p>
</div>
<div class="sect3">
<h4 id="_collection_links_4"><a class="anchor" href="#_collection_links_4"></a>15.6.1. Collection Links</h4>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/core/REQ_smc-maps-example.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_collection_extra_parameters"><a class="anchor" href="#_collection_extra_parameters"></a>15.6.2. Collection extra parameters</h4>
<div class="paragraph">
<p>A collection that can be retrieved as maps will add specific object in the collection information about that will contain specific information necessary to get tiles in the resource collection response. In this extension, the <em>maps</em> section informs about the formats the maps can be retrieved,&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_sfc-formats.adoc[]</p>
</div>
<div class="exampleblock">
<div class="title">Example 26. Example of a tiles property in the collection response.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>  &quot;maps&quot;: {
    &quot;formats&quot;: [
      [
        &quot;image/jpeg&quot;,
        &quot;image/png&quot;
      ]
    ]
  }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maps_from_one_collection"><a class="anchor" href="#_maps_from_one_collection"></a>15.7. Maps from one collection</h3>
<div class="paragraph">
<p>This standard specifies how to get maps from a single collection.</p>
</div>
<div class="sect3">
<h4 id="_operation_10"><a class="anchor" href="#_operation_10"></a>15.7.1. Operation</h4>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_mc-op.adoc[]</p>
</div>
<div class="paragraph">
<p>Typical resources that can be retrieved as maps are: features (/collections/{collectionId}), coverages (/collections/{collectionId}/coverage/{coverageId} or /coverage/{coverageId}).</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_crs"><a class="anchor" href="#_parameter_crs"></a>15.7.2. Parameter crs</h4>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_mc-crs-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_bbox_3"><a class="anchor" href="#_parameter_bbox_3"></a>15.7.3. Parameter bbox</h4>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_mc-bbox-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_width"><a class="anchor" href="#_parameter_width"></a>15.7.4. Parameter width</h4>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_mc-width-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_height"><a class="anchor" href="#_parameter_height"></a>15.7.5. Parameter height</h4>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/maps/maps/REQ_mc-height-definition.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_26"><a class="anchor" href="#_response_26"></a>15.7.6. Response</h4>
<div class="paragraph">
<p>A successful response of a tile request will be consistent with the type of resource requested. For features can be geojson of Mapbox vector tiles; coverages it my be a geotiff and for maps it can be a jpeg or a png.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_8_map_maps.adoc - include::requirements/tiles/maps/REQ_tc-success.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_error_situations_6"><a class="anchor" href="#_error_situations_6"></a>15.7.7. Error situations</h4>
<div class="paragraph">
<p>A general summary of the HTTP status codes can be found in OWS Common.</p>
</div>
<div class="paragraph">
<p>If the parameter tileMatrixSetId is not available by the server for this resource or the parameters  tileMatrix, tileRow, tileCol are out-of-range, the status code of the response will be 404.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_map_from_more_than_one_collection"><a class="anchor" href="#_requirement_class_map_from_more_than_one_collection"></a>16. Requirement Class "Map from more than one collection"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_11"><a class="anchor" href="#_overview_11"></a>16.1. Overview</h3>
<table id="rc_maps-collections" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/collections</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In previous clauses we have been discussion about maps that are produced form one and only one resource. This is achieved by concatenating the map path to a resource (e.g. a feature collection). This extension discusses about the possibility to combine more than one resource to create a map. This is achieved by using by adding the map path to the root of the service.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_10"><a class="anchor" href="#_declaration_of_conformance_classes_10"></a>16.2. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_27"><a class="anchor" href="#_response_27"></a>16.2.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_maps_collections_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 51</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/collections/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of generating maps from multiple collections by adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/collections" class="bare">http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/collections</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 27. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core&quot;
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/collections&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maps_from_more_than_one_collection"><a class="anchor" href="#_maps_from_more_than_one_collection"></a>16.3. Maps from more than one collection</h3>
<div class="sect3">
<h4 id="_operation_11"><a class="anchor" href="#_operation_11"></a>16.3.1. Operation</h4>
<table id="req_maps_collections_mcs-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 52</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/collections/mcs-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path /maps</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_styles"><a class="anchor" href="#_parameter_styles"></a>16.3.2. Parameter styles</h4>
<table id="req_maps_collections_mcs-styles-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 53</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/collections/mcs-styles-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>styles</code> with the characteristics defined (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: styles
  in: query
  required: false
  style: form
  explode: false
  schema:
    type: string</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter value SHALL be a list of comma separated styles identifiers. If the parameter 'collections' exists, the list should be as long as 'collections' and each style identifier corresponds to one collection identifier. Default style can be represented as a blank name or with the <code>default</code> word</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameter is missing, the <code>default</code> style is assumed for all collections enumerated</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_collections_3"><a class="anchor" href="#_parameter_collections_3"></a>16.3.3. Parameter Collections</h4>
<table id="req_maps_mcs-collections_collections-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 54</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/maps/collections/mcs-collections-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>collections</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: collections
  in: query
  required: false
  style: form
  explode: false
  schema:
    type: array
    items:
      type: string</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>collections</code> SHALL contain a comma-separated list of collection identifiers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the collections that advertise a link following the &#8230;&#8203;/map/{styleId}&#8230;&#8203; in the /collections/{collectionId} SHALL be included.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only the collections that support the same <code>crsId</code> or the same <code>tileMatrixSetId</code> parameter value SHALL be included</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If <code>collections</code> is missing, all collections supporting the <code>crsId</code> or the <code>TileMatrixSetId</code> parameter value will be considered.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_28"><a class="anchor" href="#_response_28"></a>16.3.4. Response</h4>
<div class="paragraph">
<p>To retrieve the map as a map or a a tile another extension is needed. No requirements are provided here.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_checkpoint_core"><a class="anchor" href="#_requirement_class_checkpoint_core"></a>17. Requirement Class "Checkpoint core"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_12"><a class="anchor" href="#_overview_12"></a>17.1. Overview</h3>
<table id="rc_checkpoint-core" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2818">RFC 2818 (HTTP over TLS)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc3339">RFC 3339 (Date and Time on the Internet: Timestamps)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc8288">RFC 8288 (Web Linking)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This extension is a building block a prior applicable to any data resource that add a mechanism to request for server changes in a resource collection since a previous checkpoint. It should be implemented as a GET but it will be a <em>partial</em> GET.</p>
</div>
<div class="paragraph">
<p>In order to implement it the service needs to keep an audit of every change in the resources and assign a checkpoint to it. At some point in time the client will request a resource collection and receive it with a checkpoint identifier. After a while, the client will send a request for updates and notify the server about the checkpoint the client received. The server will inform the client about the changes in the resources up to a current checkpoint and the client will update its copy of the resources.</p>
</div>
<div class="paragraph">
<p>While dealing with atomic resources, implementors can consider to use e-tags to detect changes on cached version of them as defined in <a href="https://tools.ietf.org/html/rfc7232" class="bare">https://tools.ietf.org/html/rfc7232</a>. The e-tag mechanism permits the client to  provide a fast "not modified" response in case the resource has not changed. In case the resource has been modified it is completely downloaded. In contrast, this requirement class adds the capability for partial update of a collection and the server will only retrieve the resource completely if all its parts has changed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_general_4"><a class="anchor" href="#_general_4"></a>17.2. General</h3>
<table id="req_checkpoint_core_api-common" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 55</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/api-common</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The OGC API SHALL comply with the requirements specified in the <a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/core" class="bare">http://www.opengis.net/spec/OAPI_Common/1.0/req/core</a> and collections Requirements Classes of the OGC API-Common version 1.0 Standard.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In practice, this means that the landing page and the conformance page follows OGC API Common core and collections requirements (STILL TBD but mostly equivalent to the more general parts of WFS3.0 requirements but with the text generalized to other resource types). This standard provides extra additions to the OWS common requirements that are particular to maps.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_7"><a class="anchor" href="#_api_landing_page_7"></a>17.3. API landing page</h3>
<div class="paragraph">
<p>The checkpoint has been designed as query parameters that can potentially be added to any relevant URL. The landing page provides links to start exploring the resources offered by the API but does not expose checkpoints. It mainly consists in a list of links. OWS Common already requires some common links that are enough for this core.</p>
</div>
<div class="sect3">
<h4 id="_response_29"><a class="anchor" href="#_response_29"></a>17.3.1. Response</h4>
<div class="paragraph">
<p>No variations are required in the landing page.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_11"><a class="anchor" href="#_declaration_of_conformance_classes_11"></a>17.4. Declaration of conformance classes</h3>
<div class="paragraph">
<p>To support "generic" clients that want to access multiple OGC API standards and extensions - and not "just" a specific API / server, the API has to declare the requirements classes it implements and conforms to.</p>
</div>
<div class="sect3">
<h4 id="_response_30"><a class="anchor" href="#_response_30"></a>17.4.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_checkpoint_core_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 56</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the checkpoint core conformance class as links to <a href="http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API map tiles conformance information page with checkpoint support.</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 28. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core&quot;,
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resource_retrieval"><a class="anchor" href="#_resource_retrieval"></a>17.5. Resource retrieval</h3>
<div class="sect3">
<h4 id="_headers"><a class="anchor" href="#_headers"></a>17.5.1. Headers</h4>
<div class="paragraph">
<p>A header in the response of resource retrieval will be added to a successful GET request with the checkpoint. This header will be added to a successful response of complete GET request of with a checkpoint parameter.</p>
</div>
<table id="req_checkpoint_core_resource-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 57</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/resource-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of a successful response SHALL include a header x-checkpoint with the value of the current server checkpoint.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This is necessary for the client to be able to formulate a checkpoint update request later.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_checkpoint_extra_parameters"><a class="anchor" href="#_checkpoint_extra_parameters"></a>17.6. Checkpoint extra parameters</h3>
<div class="paragraph">
<p>A resource retrieval GET request can have additional query parameters to specify a filter to get only the changes in a resource collections from the last client request. The client has saved checkpoint associated with the resources it has saved or cached and it will communicate it to the server. The server will be able to know what elements the client has and deliver only the updated elements (and the deleted elements).</p>
</div>
<div class="paragraph">
<p>For a low connectivity environment, a parameter will  be able to select the priority level of the update changes and request only the most significant changes.</p>
</div>
<div class="paragraph">
<p>An additional parameter allows for selecting the amount of content and the format of the response.</p>
</div>
<div class="sect3">
<h4 id="_parameter_checkpoint"><a class="anchor" href="#_parameter_checkpoint"></a>17.6.1. Parameter Checkpoint</h4>
<table id="req_checkpoint_core_cp-priority-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 58</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/cp-prioriy-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>priority</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: priority
  in: query
  required: false
  style: form
  explode: false
  schema:
    type: string
    default: all
    enum:
      - low
      - medium
      - high
      - all
  example: high</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameters is not specified in the request, the response SHALL contain all changes whatever their priority.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_priority"><a class="anchor" href="#_parameter_priority"></a>17.6.2. Parameter priority</h4>
<table id="req_checkpoint_core_cp-checkpoint-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 59</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/cp-checkpoint-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>checkpoint</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: checkPoint
  in: query
  required: false
  schema:
    type: string</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the parameters is not specified in the request, the response SHALL contain all changes since auditing began.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_changesettype"><a class="anchor" href="#_parameter_changesettype"></a>17.6.3. Parameter changeSetType</h4>
<table id="req_checkpoint_core_cp-changesettype-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 60</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/cp-changesettype-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support an optional parameter <code>changeSetType</code> that determines the type of the response and with the following characteristics (using an OpenAPI Specification 3.0 fragment) and determines the type of the response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  name: changeSetType
  in: query
  required: false
  style: form
  explode: false
  schema:
    type: string
    default: full
    enum:
      - summary
      - full
      - package
  example: full</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>changeSetType</code> parameter is set to <code>full</code> or if the parameter is not specified in the request, the server SHALL return the complete changeSet file following the <code>changeSet</code> schema.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>changeSetType</code> parameter is set to <code>summary</code> the server SHALL return a summary of the changes. The summary SHALL follow the <code>changeSetSummary</code> schema.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the value of the <code>changeSetType</code> parameter is set to <code>package</code> the server SHALL return a package (e.g. a ZIP file) that will include a summary of the changes (The summary follows the <code>changeSetSummary</code> schema) and the changes themselves as separated parts in the package. Use this value for requesting changes in tiled resources.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_changeset_response"><a class="anchor" href="#_changeset_response"></a>17.7. ChangeSet response</h3>
<div class="sect3">
<h4 id="_changeset_response_with_changes"><a class="anchor" href="#_changeset_response_with_changes"></a>17.7.1. ChangeSet response with changes</h4>
<div class="paragraph">
<p>A success response of a resource request that has the checkpoint query filter will change to a format that contains a changeSet report and eventually the relevant changes.</p>
</div>
<table id="req_checkpoint_core_cp-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 61</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/core/cp-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation that has found changes SHALL be reported as a response with a HTTP status code 200.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the <code>checkPoint</code> property is present in the responds it SHALL contain the checkpoint value from which new changes are requested.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL contain a property <code>summaryOfChangedItems</code> containing a count of changes corresponding to each specific priority label.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the <code>extentOfChangedItems</code> property is present in the responds it SHALL contain a list with one or more of bounding boxes affected by changes produced and in which crs the coordinates of the bounding boxes are produced.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the <code>numberOfReturnedItems</code> property is present in the responds it SHALL contain the number of changed items that are presented in the response.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the <code>changedItems</code> property is present in the responds it SHALL contain a list with the new or modified resources (embedded or linked).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the <code>deletedItems</code> property is present in the responds it SHALL contain a list of identifiers of deleted resources.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">H</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a summary of changes has been requested, the content of that response SHALL contain a changeSetSummary report be based upon the following OpenAPI 3.0 schema:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  title: changeSetSummary
  description: A document containing a summary of the updates since a specified checkpoint
  type: object
  required:
  - summaryOfChangedItems
  properties:
    summaryOfChangedItems:
      description: a per-priority list of change counts
      type: array
      items:
        description: a count of changes corresponding to a specific priority label
        type: object
        required:
        - priority
        - count
        properties:
          priority:
            description: the priority label
            type: string
          count:
            description: the count of changes tagged with the corresponding priority
              label
            type: integer
      example:
        - priority: high
          count: 2
        - priority: medium
          count: 4
        - priority: low
          count: 67</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a changes report has been requested, the content of that response SHALL contain a changeSet report be based upon the following OpenAPI 3.0 schema:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  title: changeSet
  description: A document containing the updates since a specified checkpoint
  allOf:
  - $ref: &#39;#/components/schemas/changeSetSummary&#39;
  - type: object
    properties:
      checkPoint:
        description: the checkpoint value from which new changes are requested. This checkpoint is part of the request to get this file.
        type: string
        example: &quot;cp143756&quot;
      extentOfChangedItems:
        description: extent of the new, changed or deleted items
        type: object
        required: bbox
        properties:
          bbox:
            type: array
            items:
              $ref: &#39;https://api.swaggerhub.com/domains/UAB-CREAF/ogc-api-common/1.0.0#/components/schemas/bbox&#39;
          crs:
            $ref: &#39;https://api.swaggerhub.com/domains/UAB-CREAF/ogc-api-common/1.0.0#/components/schemas/crs&#39;
      numberOfReturnedItems:
        description: the number of changed items that are presented in the response; this may be less than the total number of changes
        type: integer
        example: 6
      changedItems:
        description: a list of new or modified resources. Useful for features. Not recommended for tiles
        type: array
        items:
          description: a representations of or reference to the changed resource; e.g.
            a GeoJSON-encoded feature
          type: object
          required:
          - items
          properties:
            priority:
              description: a priority label
              type: string
            items:
              type: array
              items:
                oneOf:
                - type: object
                - $ref: &#39;https://api.swaggerhub.com/domains/UAB-CREAF/ogc-api-common/1.0.0#/components/schemas/link&#39;
        example:
          - priority: high
            items: []
          - priority: medium
            items: []
      deletedItems:
        description: a list of identifiers of deleted resources. Useful for features. Not recommended for tiles.
        type: array
        items:
          description: the identifier of a deleted feature
          type: object
          required:
          - items
          properties:
            priority:
              description: a priority label
              type: string
            items:
              type: array
              items:
                type: string
        example:
          - priority: medium
            items:
            - &quot;/collections/BUILDINGS/items/F4674&quot;
            - &quot;/collections/BUILDINGS/items/F37465819&quot;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_changeset_response_with_no_changes"><a class="anchor" href="#_changeset_response_with_no_changes"></a>17.7.2. ChangeSet response with no changes</h4>
<table id="req_checkpoint_tiles_cp-not-modified" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 62</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/tiles/cp-not-modified</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation that has NOT found changes SHALL be reported as a response with a HTTP status code 304.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_checkpoint_tiles"><a class="anchor" href="#_requirement_class_checkpoint_tiles"></a>18. Requirement Class "Checkpoint tiles"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_13"><a class="anchor" href="#_overview_13"></a>18.1. Overview</h3>
<table id="rc_checkpoint-tiles" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/tiles" class="bare">http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/tiles</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core" class="bare">http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This extension describes what is specific for tiles in checkpoints. It extents <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles</a>, <a href="http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles"" class="bare">http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles"</a> and "http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core".</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_landing_page_8"><a class="anchor" href="#_api_landing_page_8"></a>18.2. API landing page</h3>
<div class="paragraph">
<p>No changes in the The landing page are required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_declaration_of_conformance_classes_12"><a class="anchor" href="#_declaration_of_conformance_classes_12"></a>18.3. Declaration of conformance classes</h3>
<div class="sect3">
<h4 id="_response_31"><a class="anchor" href="#_response_31"></a>18.3.1. Response</h4>
<div class="paragraph">
<p>The conformance page mainly consists in a list of links. OWS Commmon already requires some links.</p>
</div>
<table id="req_checkpoint_tiles_conformance-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 63</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/tiles/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The API conformance path SHALL advertise the capability of generating tiles from multiple collections adding the conformance class for this capability as a link to <a href="http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/tiles" class="bare">http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/tiles</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the conformance page (commonly in JSON format) the links are following the link schema defined in the OGC API Common. The following is an example fragment of the response of a OGC API tiles conformance information page</p>
</div>
<div id="ConformancePage" class="exampleblock">
<div class="title">Example 29. Conformance Information Page fragment</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;conformsTo&quot;: [
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-common-1/1.0/req/collections&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-maps-1/1.0/req/styles&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/tmxs&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core&quot;,
    &quot;http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/tiles&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_checkpoint_operation"><a class="anchor" href="#_checkpoint_operation"></a>18.4. Checkpoint operation</h3>
<div class="paragraph">
<p>This extension is applied on top of the requirements class "http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/multitiles" or "http://www.opengis.net/spec/ogcapi-tiles-1/1.0/req/cols-multitiles". The parameters defined in "http://www.opengis.net/spec/ogcapi-checkpoint-1/1.0/req/core" are added to the parameters defined for multitiles or cols-multitiles (multitiles of tiles of multiple collections). For requesting updates to tiles there are some restrictions in the parameters defined in the core that are described in this extenaions.</p>
</div>
<div class="sect3">
<h4 id="_parameter_changesettype_2"><a class="anchor" href="#_parameter_changesettype_2"></a>18.4.1. Parameter changeSetType</h4>
<table id="rec_checkpoint_tiles-cp-changesettiles" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/checkpoint/core/cp-changesettiles</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>changeSetType</code> SHOULD use <code>summary</code> or <code>package</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that the checkpoint operation has a different output than the pure multitile operation. In practice this means that the parameter changeSetType overwrites the parameter multiTileType and in case both parameters are present, changeSetType takes precedence and multiTileType should be ignored.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_changeset_response_2"><a class="anchor" href="#_changeset_response_2"></a>18.5. ChangeSet response</h3>
<div class="paragraph">
<p>The changeSet report is the one defined in the core but with the addition of a scale range.</p>
</div>
<table id="req_checkpoint_tiles_cp-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 64</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/checkpoint/tiles/cp-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the <code>scalesOfChangedItems</code> property is present in the request, the response SHALL contain an interval of scales affected by changes. If it is not included all scales are affected SHALL be include</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>When the <code>changeSetType</code> parameter forces a response using the <code>changeSet</code> schema, the content of that response SHALL use the <code>changeSetTiles</code> schema instead (that extents <code>changeSet</code> by adding a scale interval). The <code>changeSetTiles</code> OpenAPI 3.0 follows the schema:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>  allOf:
  - $ref: &#39;#/components/schemas/changeSet&#39;
  - type: object
    properties:
      scalesOfChangedItems:
        type: object
        required:
          - minScaleDenominator:
          - maxScaleDenominator:
        properties:
          minScaleDenominator:
            type: number
            format: double
          maxScaleDenominator:
            type: number
            format: double</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>When a package is being returned and the package format supports expressing file paths of its parts (such as the ZIP file), each tile in the package SHALL have a path following the template: <code>{tileMatrixSetId}/{tileMatrix}/{tileRow}/{tileCol}.{file-extension}</code>. {file-extension} is the file extension that corresponds to the media type (e.g "jpg" for image/jpeg).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_classes_for_encodings"><a class="anchor" href="#_requirements_classes_for_encodings"></a>19. Requirements classes for encodings</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
THIS SECTION REQUIRES A CAREFUL REVIEW. PLEASE IGNORE IT
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The following content is from the OAPI Common specification and should be modified for Map Tile APIs. Keep in mind that both Map Tiles and metadata are supplied by the API. So HTML and GeoJSON encoding may be retained for the metadata responses.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_overview_14"><a class="anchor" href="#_overview_14"></a>19.1. Overview</h3>
<div class="paragraph">
<p>This clause specifies four pre-defined requirements classes for encodings to be used by an OGC API implementation. These encodings are commonly used encodings for spatial data on the web:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_html">HTML</a></p>
</li>
<li>
<p><a href="#rc_geojson">GeoJSON</a></p>
</li>
<li>
<p><a href="#rc_gmlsf0">Geography Markup Language (GML), Simple Features Profile, Level 0</a></p>
</li>
<li>
<p><a href="#rc_gmlsf2">Geography Markup Language (GML), Simple Features Profile, Level 2</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>None of these encodings are mandatory and an implementation of the <a href="#rc_core">Core</a> requirements class may also implement none of them but implement another encoding instead.</p>
</div>
<div class="paragraph">
<p>The <a href="#rc_core">Core</a> requirements class includes recommendations to support <a href="#rec_html">HTML</a> and <a href="#rec_geojson">GeoJSON</a> as encodings, where practical. <a href="#overview">Clause 6 (Overview)</a> includes a discussion about recommended encodings.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_html"><a class="anchor" href="#_requirement_class_html"></a>19.2. Requirement Class "HTML"</h3>
<div class="paragraph">
<p>Geographic information that is only accessible in formats like GeoJSON or GML has two issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The data is not discoverable using the most common mechanism for discovering information, that is the search engines of the Web;</p>
</li>
<li>
<p>The data can not be viewed directly in a browser - additional tools are required to view the data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Therefore, sharing data on the Web should include publication in HTML. To be consistent with the Web, it should be done in a way that enables users and search engines to access all data.</p>
</div>
<div class="paragraph">
<p>This is discussed in detail in
<a href="https://www.w3.org/TR/sdw-bp/#indexable-by-search-engines">Best Practice 2: Make your spatial data indexable by search engines</a>
<a href="#SDWBP">[SDWBP]</a>. This standard therefore <a href="#rec_html">recommends supporting HTML as an encoding</a>.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/requirements_class_html.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/html/REQ_definition.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/html/REQ_content.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/html/REC_schema-org.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_geojson"><a class="anchor" href="#_requirement_class_geojson"></a>19.3. Requirement Class "GeoJSON"</h3>
<div class="paragraph">
<p>GeoJSON is a commonly used format that is simple to understand and well supported by tools and software libraries. Since most Web developers are comfortable with using a JSON-based format supporting GeoJSON is recommended, if the feature data can be represented in GeoJSON for the intended use.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/requirements_class_geojson.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/geojson/REQ_definition.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/geojson/REQ_content.adoc[]</p>
</div>
<div class="paragraph">
<p>Templates for the definition of the schemas for the GeoJSON responses in OpenAPI definitions are available at <a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/featureCollectionGeoJSON.yaml">featureCollectionGeoJSON.yaml</a> and  <a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/featureGeoJSON.yaml">featureGeoJSON.yaml</a>.
These are generic schemas that do not include any application schema information about specific feature types or their properties.</p>
</div>
<div class="exampleblock">
<div class="title">Example 30. A GeoJSON FeatureCollection Object response</div>
<div class="content">
<div class="paragraph">
<p>In the example below, only the first and tenth feature is shown. Coordinates are not shown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;type&quot; : &quot;FeatureCollection&quot;,
  &quot;links&quot; : [ {
    &quot;href&quot; : &quot;http://data.example.com/collections/buildings/items/?f=json&quot;,
    &quot;rel&quot; : &quot;self&quot;,
    &quot;type&quot; : &quot;application/geo+json&quot;,
    &quot;title&quot; : &quot;this document&quot;
  }, {
    &quot;href&quot; : &quot;http://data.example.com/collections/buildings/items/?f=html&quot;,
    &quot;rel&quot; : &quot;alternate&quot;,
    &quot;type&quot; : &quot;text/html&quot;,
    &quot;title&quot; : &quot;this document as HTML&quot;
  }, {
    &quot;href&quot; : &quot;http://data.example.com/collections/buildings/items/?f=json&amp;startIndex=10&amp;limit=10&quot;,
    &quot;rel&quot; : &quot;next&quot;,
    &quot;type&quot; : &quot;application/geo+json&quot;,
    &quot;title&quot; : &quot;next page&quot;
  } ],
  &quot;timeStamp&quot; : &quot;2018-04-03T14:52:23Z&quot;,
  &quot;numberMatched&quot; : 123,
  &quot;numberReturned&quot; : 10,
  &quot;features&quot; : [ {
    &quot;type&quot; : &quot;Feature&quot;,
    &quot;id&quot; : &quot;123&quot;,
    &quot;geometry&quot; : {
      &quot;type&quot; : &quot;Polygon&quot;,
      &quot;coordinates&quot; : [ ... ]
    },
    &quot;properties&quot; : {
      &quot;function&quot; : &quot;residential&quot;,
      &quot;floors&quot; : &quot;2&quot;,
      &quot;lastUpdate&quot; : &quot;2015-08-01T12:34:56Z&quot;
    }
  }, { ...
  }, {
    &quot;type&quot; : &quot;Feature&quot;,
    &quot;id&quot; : &quot;132&quot;,
    &quot;geometry&quot; : {
      &quot;type&quot; : &quot;Polygon&quot;,
      &quot;coordinates&quot; : [ ... ]
    },
    &quot;properties&quot; : {
      &quot;function&quot; : &quot;public use&quot;,
      &quot;floors&quot; : &quot;10&quot;,
      &quot;lastUpdate&quot; : &quot;2013-12-03T10:15:37Z&quot;
    }
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 31. A GeoJSON Feature Object response</div>
<div class="content">
<div class="paragraph">
<p>In the example below, coordinates are not shown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;type&quot; : &quot;Feature&quot;,
  &quot;links&quot; : [ {
    &quot;href&quot; : &quot;http://data.example.com/collections/buildings/items/123/?f=json&quot;,
    &quot;rel&quot; : &quot;self&quot;,
    &quot;type&quot; : &quot;application/geo+json&quot;,
    &quot;title&quot; : &quot;this document&quot;
  }, {
    &quot;href&quot; : &quot;http://data.example.com/collections/buildings/items/123/?f=html&quot;,
    &quot;rel&quot; : &quot;alternate&quot;,
    &quot;type&quot; : &quot;text/html&quot;,
    &quot;title&quot; : &quot;this document as HTML&quot;
  }, {
    &quot;href&quot; : &quot;http://data.example.com/collections/buildings/items&quot;,
    &quot;rel&quot; : &quot;collection&quot;,
    &quot;type&quot; : &quot;application/geo+json&quot;,
    &quot;title&quot; : &quot;the collection document&quot;
  } ],
  &quot;id&quot; : &quot;123&quot;,
  &quot;geometry&quot; : {
    &quot;type&quot; : &quot;Polygon&quot;,
    &quot;coordinates&quot; : [ ... ]
  },
  &quot;properties&quot; : {
    &quot;function&quot; : &quot;residential&quot;,
    &quot;floors&quot; : &quot;2&quot;,
    &quot;lastUpdate&quot; : &quot;2015-08-01T12:34:56Z&quot;
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_geography_markup_language_gml_simple_features_profile_level_0"><a class="anchor" href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_0"></a>19.4. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</h3>
<div class="paragraph">
<p>In addition to HTML and GeoJSON, a significant volume of feature data is available XML-based formats, notably  GML. Therefore, this standard specifies requirement classes for GML. The Simple Features Profile, Level 0, is the simplest profile of GML and is typically supported by tools. The GML Simple Features Profile is restricted to data with 2D geometries supported by most tools. In addition, the Level 0 profile is limited to features that can be stored in a tabular data structure.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/requirements_class_gmlsf0.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/gmlsf0/REQ_definition.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/gmlsf0/REQ_content.adoc[]</p>
</div>
<table id="gml_content" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Media types and XML elements for each resource</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Resource</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Path</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">XML root element</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Landing page</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>wfs:LandingPage</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conformance classes</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/conformance</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>wfs:ConformsTo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Feature collections metadata</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/collections</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>wfs:Collections</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Feature collection metadata</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/collections/{collectionId}</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>wfs:Collections</code>, with just one entry for the collection <code>collectionId</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Feature collection</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/collections/{collectionId}/items</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>wfs:FeatureCollection</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Feature</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/collections/{collectionId}/items/{featureId}</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">substitutable for <code>gml:AbstractFeature</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The namespace prefixes used above are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wfs</code>: <code><a href="http://www.opengis.net/wfs/3.0" class="bare">http://www.opengis.net/wfs/3.0</a></code></p>
</li>
<li>
<p><code>gml</code>: <code><a href="http://www.opengis.net/gml/3.2" class="bare">http://www.opengis.net/gml/3.2</a></code></p>
</li>
<li>
<p><code>atom</code>: <code><a href="http://www.w3.org/2005/Atom" class="bare">http://www.w3.org/2005/Atom</a></code></p>
</li>
<li>
<p><code>xlink</code>: <code><a href="http://www.w3.org/1999/xlink" class="bare">http://www.w3.org/1999/xlink</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The API definition resource at path <code>/api</code> is not included in <a href="#gml_content">Table 6</a>. This requirements class does not prescribe any API definition approach.</p>
</div>
<div class="paragraph">
<p>The mapping of the content from the responses specified in the <a href="#rc_core">Core requirements class</a> to the XML is straightforward. All links are encoded using <code>atom:link</code> elements except in GML features where simple Xlinks are used.</p>
</div>
<div class="paragraph">
<p><a href="#xml_examples">Annex C</a> has example responses in XML.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>wfs:FeatureCollection</code> element deliberately goes beyond the permitted content specified in the <a href="#GMLSF">GML Simple Features Profile</a>, section 8.4.2. This is necessary to support the hypermedia controls and other relevant content for a Web Feature Service API.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_geography_markup_language_gml_simple_features_profile_level_2"><a class="anchor" href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_2"></a>19.5. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</h3>
<div class="paragraph">
<p>The difference between this requirement class and the <a href="#rc_gmlsf0">Level 0</a> requirements class is that non-spatial feature properties are not restricted to atomic values (strings, numbers, etc.).</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/requirements_class_gmlsf2.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/gmlsf2/REQ_definition.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_10_encodings.adoc - include::requirements/gmlsf2/REQ_content.adoc[]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_class_openapi_3_0"><a class="anchor" href="#_requirements_class_openapi_3_0"></a>20. Requirements class "OpenAPI 3.0"</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
THIS SECTION REQUIERES A CAREFUL REVIEW. PLEASE IGNORE IT
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The OAS requirements class should be limited to OpenAPI 3.0 requirements that specific to Map Tile resources. These requirements are an extension to the OpenAPI requirements in OAPI Common.</p>
</div>
<div class="paragraph">
<p>What follows is from OAPI common.  It should be replaced with approapriate Map Tile centered requirements.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_basic_requirements"><a class="anchor" href="#_basic_requirements"></a>20.1. Basic requirements</h3>
<div class="paragraph">
<p>APIs conforming to this requirements class document themselves by an <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#oasDocument">OpenAPI Document</a>.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/requirements_class_oas30.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/oas30/REQ_oas-definition-1.adoc[]</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/117">ISSUE 117</a><br>
The OpenAPI media type has not been registered yet with IANA and will likely change. We need to update the media type after registration.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/oas30/REQ_oas-definition-2.adoc[]</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Related to <a href="https://github.com/opengeospatial/WFS_FES/issues/90">ISSUE 90</a><br>
If we have a rigid path pattern there seems to be no need to add requirements for fixed operationId values. However, if the path pattern would be flexible, maybe we should require specific operationIds for selected resources?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Two example OpenAPI documents are included in <a href="#oas30_example">Annex B</a>.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/oas30/REQ_oas-impl.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_complete_definition"><a class="anchor" href="#_complete_definition"></a>20.2. Complete definition</h3>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/oas30/REQ_completeness.adoc[]</p>
</div>
<div class="paragraph">
<p>Note that APIs that, for example, are access-controlled (see <a href="#security">Security</a>), support web cache validation, CORS or that use HTTP redirection will make use of additional HTTP status codes beyond regular codes such as <code>200</code> for successful GET requests and <code>400</code>, <code>404</code> or <code>500</code> for error situations. See <a href="#http_status_codes">[http_status_codes]</a>.</p>
</div>
<div class="paragraph">
<p>Clients have to be prepared to receive responses not documented in the OpenAPI definition. For example, additional errors may occur in the transport layer outside of the server.</p>
</div>
</div>
<div class="sect2">
<h3 id="exceptions"><a class="anchor" href="#exceptions"></a>20.3. Exceptions</h3>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/oas30/REQ_exception-codes.adoc[]</p>
</div>
<div class="exampleblock">
<div class="title">Example 32. An exception response object definition</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>description: An error occurred.
content:
  application/json:
    schema:
      $ref: https://raw.githubusercontent.com/opengeospatial/OAPI/openapi/schemas/exception.yaml
  text/html:
    schema:
      type: string</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security"><a class="anchor" href="#security"></a>20.4. Security</h3>
<div class="paragraph">
<p>Unresolved directive in clause_11_oas.adoc - include::requirements/oas30/REQ_security.adoc[]</p>
</div>
<div class="paragraph">
<p>The OpenAPI specification currently supports the following <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#security-scheme-object">security schemes</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP authentication,</p>
</li>
<li>
<p>an API key (either as a header or as a query parameter),</p>
</li>
<li>
<p>OAuth2&#8217;s common flows (implicit, password, application and access code) as defined in RFC6749, and</p>
</li>
<li>
<p>OpenID Connect Discovery.</p>
</li>
</ul>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/41">ISSUE 41</a><br>
How does a client determine which security protocols/standards/etc. a server supports?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Unresolved directive in OAPI_MapsTiles.adoc - include::clause_11_media_types.adoc[]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance_class_abstract_test_suite_normative"><a class="anchor" href="#_conformance_class_abstract_test_suite_normative"></a>Annex A: Conformance Class Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Ensure that there is a conformance class for each requirements class and a test for each requirement (identified by requirement name and number)
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_conformance_class_a"><a class="anchor" href="#_conformance_class_a"></a>A.1. Conformance Class A</h3>
<div class="sect3">
<h4 id="_requirement_1"><a class="anchor" href="#_requirement_1"></a>A.1.1. Requirement 1</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/conf/conf-class-a/req-name-1</p></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/req/req-class-a/req-name-1</p></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Verify that&#8230;&#8203;</p></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Inspect&#8230;&#8203;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_requirement_2"><a class="anchor" href="#_requirement_2"></a>A.1.2. Requirement 2</h4>
<div class="paragraph">
<p>Unresolved directive in OAPI_MapsTiles.adoc - include::annex-history.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved directive in OAPI_MapsTiles.adoc - include::annex-bibliography.adoc[]</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-10-08 22:18:11 -0400
</div>
</div>
</body>
</html>